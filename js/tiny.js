!function(o){var i={};function a(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return o[t].call(e.exports,e,e.exports,a),e.l=!0,e.exports}a.m=o,a.c=i,a.d=function(t,e,o){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(o,i,function(t){return e[t]}.bind(null,i));return o},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=5)}([function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function i(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}t.exports=function(t,e,o){return e&&i(t.prototype,e),o&&i(t,o),t}},function(t,e,o){t.exports=o(4)},function(t,e){function c(t,e,o,i,a,n,r){try{var s=t[n](r),c=s.value}catch(t){return void o(t)}s.done?e(c):Promise.resolve(c).then(i,a)}t.exports=function(s){return function(){var t=this,r=arguments;return new Promise(function(e,o){var i=s.apply(t,r);function a(t){c(i,e,o,a,n,"next",t)}function n(t){c(i,e,o,a,n,"throw",t)}a(void 0)})}}},function(t,e,o){var i=function(n){"use strict";var c,t=Object.prototype,l=t.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},a=e.iterator||"@@iterator",o=e.asyncIterator||"@@asyncIterator",i=e.toStringTag||"@@toStringTag";function r(t,e,o,i){var a=e&&e.prototype instanceof s?e:s,n=Object.create(a.prototype),r=new A(i||[]);return n._invoke=function(n,r,s){var c=d;return function(t,e){if(c===g)throw new Error("Generator is already running");if(c===w){if("throw"===t)throw e;return L()}for(s.method=t,s.arg=e;;){var o=s.delegate;if(o){var i=E(o,s);if(i){if(i===m)continue;return i}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(c===d)throw c=w,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);c=g;var a=u(n,r,s);if("normal"===a.type){if(c=s.done?w:p,a.arg===m)continue;return{value:a.arg,done:s.done}}"throw"===a.type&&(c=w,s.method="throw",s.arg=a.arg)}}}(t,o,r),n}function u(t,e,o){try{return{type:"normal",arg:t.call(e,o)}}catch(t){return{type:"throw",arg:t}}}n.wrap=r;var d="suspendedStart",p="suspendedYield",g="executing",w="completed",m={};function s(){}function f(){}function v(){}var h={};h[a]=function(){return this};var P=Object.getPrototypeOf,y=P&&P(P(T([])));y&&y!==t&&l.call(y,a)&&(h=y);var b=v.prototype=s.prototype=Object.create(h);function x(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function k(c){var e;this._invoke=function(o,i){function t(){return new Promise(function(t,e){!function e(t,o,i,a){var n=u(c[t],c,o);if("throw"!==n.type){var r=n.arg,s=r.value;return s&&"object"==typeof s&&l.call(s,"__await")?Promise.resolve(s.__await).then(function(t){e("next",t,i,a)},function(t){e("throw",t,i,a)}):Promise.resolve(s).then(function(t){r.value=t,i(r)},function(t){return e("throw",t,i,a)})}a(n.arg)}(o,i,t,e)})}return e=e?e.then(t,t):t()}}function E(t,e){var o=t.iterator[e.method];if(o===c){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=c,E(t,e),"throw"===e.method))return m;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=u(o,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,m;var a=i.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,m):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function t(){for(;++o<e.length;)if(l.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=c,t.done=!0,t};return i.next=i}}return{next:L}}function L(){return{value:c,done:!0}}return f.prototype=b.constructor=v,v.constructor=f,v[i]=f.displayName="GeneratorFunction",n.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,i in t||(t[i]="GeneratorFunction")),t.prototype=Object.create(b),t},n.awrap=function(t){return{__await:t}},x(k.prototype),k.prototype[o]=function(){return this},n.AsyncIterator=k,n.async=function(t,e,o,i){var a=new k(r(t,e,o,i));return n.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},x(b),b[i]="Generator",b[a]=function(){return this},b.toString=function(){return"[object Generator]"},n.keys=function(o){var i=[];for(var t in o)i.push(t);return i.reverse(),function t(){for(;i.length;){var e=i.pop();if(e in o)return t.value=e,t.done=!1,t}return t.done=!0,t}},n.values=T,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&l.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(o){if(this.done)throw o;var i=this;function t(t,e){return n.type="throw",n.arg=o,i.next=t,e&&(i.method="next",i.arg=c),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var a=this.tryEntries[e],n=a.completion;if("root"===a.tryLoc)return t("end");if(a.tryLoc<=this.prev){var r=l.call(a,"catchLoc"),s=l.call(a,"finallyLoc");if(r&&s){if(this.prev<a.catchLoc)return t(a.catchLoc,!0);if(this.prev<a.finallyLoc)return t(a.finallyLoc)}else if(r){if(this.prev<a.catchLoc)return t(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return t(a.finallyLoc)}}}},abrupt:function(t,e){for(var o=this.tryEntries.length-1;0<=o;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&l.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var n=a?a.completion:{};return n.type=t,n.arg=e,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(n)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var o=this.tryEntries[e];if(o.finallyLoc===t)return this.complete(o.completion,o.afterLoc),S(o),m}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var o=this.tryEntries[e];if(o.tryLoc===t){var i=o.completion;if("throw"===i.type){var a=i.arg;S(o)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,o){return this.delegate={iterator:T(t),resultName:e,nextLoc:o},"next"===this.method&&(this.arg=c),m}},n}(t.exports);try{regeneratorRuntime=i}catch(t){Function("r","regeneratorRuntime = r")(i)}},function(t,e,o){"use strict";o.r(e);var i=o(2),s=o.n(i),a=o(3),c=o.n(a),n=o(0),l=o.n(n),r=o(1),u=o.n(r),d=function(){function t(){l()(this,t)}return u()(t,null,[{key:"isDefined",value:function(t){return void 0!==t}},{key:"setCookie",value:function(t,e,o){var i=2<arguments.length&&void 0!==o?o:null,a=new Date,n=location.hostname?location.hostname:null;n&&(a.setDate(a.getDate()+i),document.cookie=t+"="+escape(e)+(i?"":";expires="+a.toUTCString())+"; path=/;domain=."+n.split(".").reverse()[1]+"."+n.split(".").reverse()[0])}},{key:"getCookie",value:function(t){var e=!!document.cookie&&document.cookie.match(new RegExp(t+"=([^;]+)"));return e?unescape(e[1].toString()):""}}]),t}(),p={epoca:{cod_prod:"epoca",id:"6697"},"auto-esporte":{cod_prod:"auto-esporte",id:"6697"},vogue:{cod_prod:"vogue",id:"6697"},glamour:{cod_prod:"glamour",id:"6697"},"casa-vogue":{cod_prod:"casa-vogue",id:"6697"},"marie-claire":{cod_prod:"marie-claire",id:"6697"},"casa-e-jardim":{cod_prod:"casa-jardim",id:"6697"},"quem-acontece":{cod_prod:"quem",id:"6697"},"epoca-negocios":{cod_prod:"epoca-negocios",id:"0000"},"globo-rural":{cod_prod:"globo-rural",id:"6697"},pegn:{cod_prod:"pequenas-empresas",id:"0000"},galileu:{cod_prod:"galileu",id:"6697"},crescer:{cod_prod:"crescer",id:"6697"},gq:{cod_prod:"gq",id:"6697"},monet:{cod_prod:"monet",id:"6618"},oglobo:{cod_prod:"OG03",id:"3981"},blogs:{cod_prod:"OG03",id:"3981"},kogut:{cod_prod:"OG03",id:"3981"},acervo:{cod_prod:"OG04",id:"3981"},jornaldigital:{cod_prod:"OG01",id:"3981"},valor:{cod_prod:"valordigital",id:"6668"}},g=function(){function t(){l()(this,t),this.productName=void 0!==window.nomeProdutoPiano?window.nomeProdutoPiano:null}return u()(t,[{key:"setGlobal",value:function(){var t={Product:{name:this.productName}};window.tinyCpt=window.tinyCpt?Object.assign(t,window.tinyCpt):t}},{key:"isProductValor",get:function(){return!(!this.productName||"valor"!==this.productName)}},{key:"productId",get:function(){return void 0!==p[this.productName]&&void 0!==p[this.productName].id?p[this.productName].id:null}}]),t}(),w=function(){function t(){l()(this,t),this.Products=new g,window.hasPaywall=window.hasPaywall||null,window.tp=window.tp||[],window.Piano=window.Piano||{},window.PaywallAnalytics=window.PaywallAnalytics||{},this.setGlobalTiny(),this.Products.setGlobal(),this.init()}return u()(t,[{key:"setGlobalTiny",value:function(){var t={debug:{tiny:!1,paywall:!1,swg:!1,ga:!1},isProduction:"prd"===window.ambienteUtilizadoPiano};window.tinyCpt=window.tinyCpt?Object.assign(t,window.tinyCpt):t}},{key:"setPiano",value:function(t){window.tinyCpt.Piano=t}},{key:"init",value:function(){}}]),t}(),m=function(){function t(){l()(this,t),this.debug=window.tinyCpt.debug.ga,this.Products=new g}return u()(t,[{key:"setGlobalVars",value:function(){window.dataLayer=window.dataLayer||[],this.Products.isProductValor&&"undefined"==typeof _gaq&&(window._gaq=window._gaq||[])}},{key:"setEvents",value:function(t,e,o){var i=2<arguments.length&&void 0!==o?o:"Piano";window.tinyCpt.debug.ga&&console.log("log-ga-event",i,t,e),this.Products.isProductValor&&_gaq.push(["_trackEvent",i,t,e,,!0]),dataLayer.push({event:"EventoGAPiano",eventoGACategoria:i,eventoGAAcao:t,eventoGARotulo:e})}},{key:"setEventsError",value:function(t,e){this.Products.isProductValor&&_gaq.push(["_trackEvent","Piano Erro",t,e,,!0]),dataLayer.push({event:"EventoGAPiano",eventoGACategoria:"Piano Erro",eventoGAAcao:t,eventoGARotulo:e})}}]),t}(),f=function(){function t(){l()(this,t),window.SWG=window.SWG||[],window.swgEntitlements=window.swgEntitlements||null,this.debug=!!d.isDefined(window.tinyCpt)&&window.tinyCpt.debug.swg,this.disabled=!1,this.content=null,this.localProductPiano="undefined"!=typeof nomeProdutoPiano?nomeProdutoPiano:null,this.hasProductJSON=!1,this.productJSON=null,this.elHead=document.head,this.setGlobalSWG()}var e,o,i,a,n,r;return u()(t,[{key:"setGlobalSWG",value:function(){d.isDefined(window.tinyCpt)&&(window.tinyCpt.Swg={global:"undefined"!=typeof swg?swg:null})}},{key:"setUtms",value:function(){var i=new URLSearchParams(window.location.search.substring(1)),t=void 0!==window.glbPaywall.swg&&void 0!==window.glbPaywall.swg.utms?window.glbPaywall.swg.utms:null;t.forEach(function(t){var e=t.name.toLowerCase(),o=t.value;i.set("utm_".concat(e),o)}),window.tinyCpt.debug.swg&&(console.log("log-method","setUtms"),console.log("log-method-setUtms",t),console.log("log-method-setUtms",location)),!this.disabled&&this.isDefined&&t&&window.tinyCpt.Swg.global.subscribe("br.com.infoglobo.oglobo.swg.google")}},{key:"getProducts",value:(r=c()(s.a.mark(function t(){var e;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=window.tinyCpt.isProduction?"https://s3.glbimg.com/v1/AUTH_7b0a6df49895459fbafe49a96fcb5bbf/swg/prod/products.json":"https://s3.glbimg.com/v1/AUTH_7b0a6df49895459fbafe49a96fcb5bbf/swg/dev/products.json",t.next=3,fetch(e).then(function(t){return t.json()});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)})),function(){return r.apply(this,arguments)})},{key:"getProduct",value:(n=c()(s.a.mark(function t(){var e,o,i=this;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.localProductPiano){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.getProducts();case 4:return e=t.sent,o=e.filter(function(t){return t.pianoProductName===i.localProductPiano})[0],t.abrupt("return",o||null);case 7:case"end":return t.stop()}},t,this)})),function(){return n.apply(this,arguments)})},{key:"removeProperties",value:(a=c()(s.a.mark(function t(e){var o,i;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=["productName","pianoProductName"],i=Object.assign({},e),o.forEach(function(t){delete i[t]}),t.abrupt("return",i);case 4:case"end":return t.stop()}},t)})),function(t){return a.apply(this,arguments)})},{key:"markupTemplate",value:(i=c()(s.a.mark(function t(){var e,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t1=this,t.next=3,this.getProduct();case 3:return t.t2=t.sent,t.next=6,t.t1.removeProperties.call(t.t1,t.t2);case 6:if(t.t0=t.sent,t.t0){t.next=9;break}t.t0=null;case 9:if(e=t.t0,o=Object.keys(e).length?JSON.stringify(e):null){t.next=15;break}return t.abrupt("return");case 15:this.hasProductJSON=!0,this.debug&&console.log({"log-SWG-Product":o}),this.productJSON="".concat(o);case 18:case"end":return t.stop()}},t,this)})),function(){return i.apply(this,arguments)})},{key:"setMarkup",value:(o=c()(s.a.mark(function t(){var e;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.markupTemplate();case 2:if(this.productJSON){t.next=4;break}return t.abrupt("return");case 4:(e=document.createElement("script")).type="application/ld+json",e.innerHTML=this.productJSON,this.elHead.insertAdjacentElement("beforeend",e);case 8:case"end":return t.stop()}},t,this)})),function(){return o.apply(this,arguments)})},{key:"setSwgScript",value:function(){var t=document.createElement("script");t.src="https://news.google.com/swg/js/v1/swg.js",this.elHead.insertAdjacentElement("beforeend",t)}},{key:"setAldebaranScript",value:function(){var t=document.createElement("script");t.src=window.tinyCpt.isProduction?"https://s3.glbimg.com/v1/AUTH_c10ae819c568460bb4ec17c0a8ec5267/aldebaran/js/bundle.js":"https://s3.glbimg.com/v1/AUTH_addc5e8f316f48ea9181af37160b22b4/aldebaran/js/bundle.js",this.elHead.insertAdjacentElement("beforeend",t)}},{key:"testSWG",value:function(){return new Promise(function(t,e){var o=0,i=setInterval(function(){window.swg&&(window.tinyCpt.Swg.global=window.swg,t(window.tinyCpt.Swg.global),clearInterval(i)),20===o&&(e("There isn't window.swg"),clearInterval(i)),o++},100)})}},{key:"init",value:(e=c()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.localProductPiano){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.setMarkup();case 4:if(this.hasProductJSON){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,this.setSwgScript();case 8:return t.next=10,this.setAldebaranScript();case 10:return t.next=12,this.testSWG();case 12:case"end":return t.stop()}},t,this)})),function(){return e.apply(this,arguments)})},{key:"isDefined",get:function(){return!!window.tinyCpt.Swg.global}}]),t}(),v=function(){function t(){l()(this,t),this.debug=window.tinyCpt.debug,this.content=null,this.setExperience()}return u()(t,[{key:"setExperience",value:function(){var t="";window.Piano.experience={},window.regrasTiny&&window.regrasTiny.nomeExperiencia&&(t=window.subsegmentacaoPiano?"".concat(regrasTiny.nomeExperiencia," - ").concat(window.subsegmentacaoPiano):regrasTiny.nomeExperiencia),window.nomeExperiencia&&(t=window.subsegmentacaoPiano?"".concat(window.nomeExperiencia," - ").concat(window.subsegmentacaoPiano):window.nomeExperiencia),window.Piano.experience.name=t}},{key:"resetUtp",value:function(){this.isDefined&&d.setCookie(this.content.variaveis.constante.cookie.UTP,"",-1)}},{key:"isDefined",get:function(){return void 0!==window.tinyCpt&&void 0!==window.tinyCpt.Piano&&(this.content=window.tinyCpt.Piano,!0)}}]),t}(),h=function(){function t(){l()(this,t),this.Piano=new v,this.GA=new m,window.dataLayer=window.dataLayer||[],this.debug=window.tinyCpt.debug.paywall,this.disabled=!1,this.metrics={paywall:{},fb:{pixel:{}}},this.paywallType()}return u()(t,[{key:"paywallLoad",value:function(){if(this.Piano.isDefined){var t=this.Piano.content;this.GA.setEvents("Exibicao Register",window.Piano.experience.name),d.setCookie(t.variaveis.constante.cookie.RTIEX,!0,1)}}},{key:"trigger",value:function(t){if(!this.disabled){var e=t.dataset.gaResetutp||null,o="top"===t.dataset.gaImagePosition?t.dataset.gaLabel+this.metrics.paywall.label:t.dataset.gaLabel,i={event:"EventoGA",eventoGACategoria:this.metrics.paywall.name,eventoGAAcao:t.dataset.gaAction||action,eventoGARotulo:o,eventoGAValor:0,eventoGAInteracao:!1};e&&this.Piano.resetUtp(),this.setDatalayer(i)}}},{key:"paywallType",value:function(){switch(void 0!==window.tinyCpt.Piano&&void 0!==window.tinyCpt.Piano.typePaywall&&window.tinyCpt.Piano.typePaywall?window.tinyCpt.Piano.typePaywall.toLowerCase():"paywall"){case"register":this.metrics.paywall.name="Register comum",this.metrics.paywall.label="Cadastre-se",this.metrics.fb.pixel.name="ViewRegisterWall";break;case"exclusivo":this.metrics.paywall.name="Register exclusivo",this.metrics.paywall.label="Assine agora",this.metrics.fb.pixel.name="ViewLoginExclusivo";break;case"paywall":this.metrics.paywall.name="paywall",this.metrics.paywall.label="Assine agora",this.metrics.fb.pixel.name="ViewPaywallExclusivo"}}},{key:"setDatalayer",value:function(t){var e=0<arguments.length&&void 0!==t?t:{};Object.keys(e).length&&dataLayer.push(e)}}]),t}(),P=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;l()(this,e),this.debug=window.tinyCpt.debug,this.disabled=!1,this.fb=t}return u()(e,[{key:"setPixelType",value:function(){if(!this.disabled){var t=void 0!==this.fb.pixel.name?this.fb.pixel.name:null;this.isDefined&&t&&(fbq("init","410270039520634"),fbq("trackSingle","410270039520634",this.fb.pixel.name))}}},{key:"isDefined",get:function(){return"undefined"!=typeof fbq}}]),e}(),y=function(){function e(){var t=this;l()(this,e),this.Piano=new v,this.GA=new h,this.SWG=new f,this.FB=new P(this.GA.metrics.fb),this.debug=window.tinyCpt.debug.paywall,this.domain=window.tinyCpt.isProduction?"https://login.globo.com/":"https://login.qa.globoi.com/",this.setTemplateSettings(function(){t.init()}),window.PaywallCpt=this,window.tinyCpt.Paywall={domain:this.domain,GA:this.GA.metrics}}return u()(e,[{key:"setTemplateSettings",value:function(t){var e={template:"default",assetsPath:"",display:null,productClass:"undefined"!=typeof nomeProdutoPiano?"paywall-cpt-".concat(nomeProdutoPiano):"paywall-cpt-oglobo",title:"Esse conteúdo é o título.",targetBlank:!0,topMobi:"",topDesk:"",topLink:"",leftMobi:"",leftDesk:"",leftLink:"",rightMobi:"",rightDesk:"",rightLink:"",hideLoginArea:!1,loginText:"Faça login",loginPreText:"Já possui cadastro?"};window.glbPaywall=window.glbPaywall?Object.assign({},e,window.glbPaywall):e,window.glbPaywall.loginTag="".concat(window.glbPaywall.loginPreText,' <a href="').concat(this.getUrlLoginRegister(),'" data-is-login="true" data-ga-action="Clique em link" data-ga-label="Link 2 - Faça login" data-ga-resetUtp="false" data-href-target=" ').concat(window.glbPaywall.targetBlank,' ">').concat(window.glbPaywall.loginText,"</a>"),window.glbPaywall.hideLoginArea&&this.clearLoginArea(),this.debug&&this.setDebugTemplateSettings(),t()}},{key:"clearLoginArea",value:function(){window.glbPaywall&&(window.glbPaywall.loginTag="")}},{key:"setDebugTemplateSettings",value:function(){var t={topMobi:"https://via.placeholder.com/300x150",topDesk:"https://via.placeholder.com/804x128",topLink:"https://google.com?l1",leftMobi:"https://via.placeholder.com/300x500",leftDesk:"https://via.placeholder.com/402x515",leftLink:"https://google.com?l2",rightMobi:"https://via.placeholder.com/300x500",rightDesk:"https://via.placeholder.com/402x515",rightLink:"https://google.com?l3"};window.glbPaywall=Object.assign({},window.glbPaywall,t)}},{key:"bodyAdjust",value:function(){this.elBody.style.setProperty("overflow","hidden","important"),this.elBody.style.setProperty("position","fixed","important"),this.elBody.style.setProperty("width","100%","important")}},{key:"setElWrapper",value:function(){this.elCpt=document.querySelector(".paywall-cpt")}},{key:"removeElements",value:function(){this.setElWrapper(),this.elCpt&&this.elCpt.remove(),document.querySelectorAll(".protected-content, #infoarte-main-content").forEach(function(t){t.remove()})}},{key:"createTemplate",value:function(){var t=this;this.elBody=document.body,this.bodyAdjust(),this.removeElements(),this.elBody.insertAdjacentHTML("beforeend",this.cssMinified),this.elBody.insertAdjacentHTML("beforeend",this.template),this.activeTemplateSettings(),window.matchMedia("(min-width: 1024px)").matches&&window.addEventListener("resize",function(){t.activeTemplateSettings()}),this.GA.paywallLoad()}},{key:"activeTemplateSettings",value:function(){var a=this;this.setElWrapper(),this.elCptWrap=this.elCpt.querySelector(".paywall-cpt-wrap"),setTimeout(function(){var t=window.innerHeight+4,e=a.elCptWrap.offsetHeight,o=(window.matchMedia("(min-width: 1024px)").matches,Math.abs(t/2)),i=t-e;a.elCpt.style.top="".concat(o,"px"),a.elCpt.style.opacity=1,a.elCpt.style.zIndex=9999999999,a.evtWheel(o,i),a.evtTouch(o,i),a.activeEvents(),a.FB.setPixelType()},1e3)}},{key:"activeEvents",value:function(){var t=this;this.elCptWrap.querySelectorAll("a").forEach(function(n){n.addEventListener("click",function(t){t.preventDefault();var e=Boolean(n.dataset.isLogin)||!1,o=n.getAttribute("href")||!1,i=!!o&&o.toLowerCase().includes("ofertaswg"),a=n.dataset.hrefTarget||!0;this.GA.trigger(n),!e&&i&&this.SWG.setUtms(),o&&!i&&setTimeout(function(){a?window.location.href=o:window.open(o)},300)}.bind(t))})}},{key:"evtWheel",value:function(a,n){var r=a;window.addEventListener("wheel",function(t){var e=a/100;if(1<=t.deltaY){var o=r-20*e;r=o<n?n:o,this.elCpt.style.top="".concat(r,"px")}if(t.deltaY<=-1){var i=r+20*e;r=a<i?a:i,this.elCpt.style.top="".concat(r,"px")}}.bind(this))}},{key:"evtTouch",value:function(a,n){var r=a,s=0,c=0;window.addEventListener("touchstart",function(t){s=t.changedTouches[0].screenY}),window.addEventListener("touchmove",function(t){if((c=t.changedTouches[0].screenY)<s){var e=Math.abs(s)-Math.abs(c),o=r-e;r=o<n?n:o,this.elCpt.style.top="".concat(r,"px")}if(s<c){var i=r+(c-s);r=a<i?a:i,this.elCpt.style.top="".concat(r,"px")}}.bind(this))}},{key:"getUrlLoginRegister",value:function(t){var e=0<arguments.length&&void 0!==t?t:"",o="prd"===window.ambienteUtilizadoPiano?"https://assinatura.oglobo.globo.com/ValidaUsuarioBarramento.html":"https://assinatura.globostg.globoi.com/ValidaUsuarioBarramento.html",i=location.href,a=window.tinyCpt.Piano.variaveis.getServicoId()||null,n="",r="";return!this.debug&&this.Piano.isDefined&&(r=encodeURIComponent(o+"?codigoProduto="+this.Piano.content.variaveis.getCodigoProduto()+"&serviceId="+a+"&ambienteUtilizado="+window.ambienteUtilizadoPiano+"&nomeProduto="+this.Piano.content.variaveis.getNomeProduto()+"&urlRetorno="+i),n="register"===e?"".concat(this.domain,"cadastro/").concat(a,"?url=").concat(r):"".concat(this.domain,"login/").concat(a,"?url=").concat(r)),n}},{key:"init",value:function(){var t=this,e=window.glbPaywall&&window.glbPaywall.delayTimer?1e3*window.glbPaywall.delayTimer:0;setTimeout(function(){t.createTemplate()},e)}},{key:"templateVars",get:function(){return window.glbPaywall}},{key:"template",get:function(){return'\n\t  <div class="paywall-cpt '.concat(this.templateVars.productClass,'"> \n\t\t<div class="paywall-cpt-wrap">\n\t\t<div class="paywall-cpt-wrap__text-head">\n\t\t\t').concat(this.templateVars.title,'\n\t\t</div>\n\t\t  <div class="paywall-cpt-wrap__top">\n\t\t  \t<a href="').concat(this.templateVars.topLink,'" data-ga-image-position="top" data-ga-action="Clique em link" data-ga-label="Link 1 -" data-ga-resetUtp="true" data-href-target="').concat(this.templateVars.targetBlank,'">\n\t\t\t\t<picture>\n\t\t\t\t\t<source srcset="').concat(this.templateVars.topMobi,'" media="(max-width: 1023px)">\n\t\t\t\t\t<source srcset="').concat(this.templateVars.topDesk,'" media="(min-width: 1024px)">\n\t\t\t\t\t<img src="').concat(this.templateVars.topMobi,'" />\n\t\t\t\t</picture>\n\t\t\t</a>\n\t\t  </div>\n\t\t  <div class="paywall-cpt-wrap__text-center ').concat(window.glbPaywall.hideLoginArea?"is-hide":"",'">\n\t\t  \t').concat(this.templateVars.loginTag,'\n\t\t  </div>\n\t\t  <div class="paywall-cpt-wrap__left">\n\t\t  \t<a href="').concat(this.templateVars.leftLink,'" data-ga-action="Clique em link" data-ga-label="Link 4 - Banner oferta esquerda" data-ga-resetUtp="true" data-href-target="').concat(this.templateVars.targetBlank,'">\n\t\t\t\t<picture>\n\t\t\t\t\t<source srcset="').concat(this.templateVars.leftMobi,'" media="(max-width: 1023px)">\n\t\t\t\t\t<source srcset="').concat(this.templateVars.leftDesk,'" media="(min-width: 1024px)">\n\t\t\t\t\t<img src="').concat(this.templateVars.leftMobi,'" />\n\t\t\t\t</picture>\n\t\t\t</a>\n\t\t  </div>\n\t\t  <div class="paywall-cpt-wrap__right">\n\t\t  \t<a href="').concat(this.templateVars.rightLink,'"  data-ga-action="Clique em link" data-ga-label="Link 5 - Banner oferta direita" data-ga-resetUtp="true" data-href-target="').concat(this.templateVars.targetBlank,'">\n\t\t\t\t<picture>\n\t\t\t\t\t<source srcset="').concat(this.templateVars.rightMobi,'" media="(max-width: 1023px)">\n\t\t\t\t\t<source srcset="').concat(this.templateVars.rightDesk,'" media="(min-width: 1024px)">\n\t\t\t\t\t<img src="').concat(this.templateVars.rightMobi,'" />\n\t\t\t\t</picture>\n\t\t\t</a>\n\t\t  </div>\n\t\t</div>\n\t  </div>\n\t  ')}},{key:"cssMinified",get:function(){return"<style>\n\t  .paywall-cpt{opacity:0;position:fixed;bottom:0;left:0;width:100vw;overflow:hidden;background:#fff;-webkit-box-shadow:0 0 70px 0 rgba(0,0,0,.5);box-shadow:0 0 70px 0 rgba(0,0,0,.5);font-family:Arial,Helvetica,sans-serif}.paywall-cpt,.paywall-cpt *{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-transition:all .2s ease;transition:all .2s ease}.paywall-cpt a{font-weight:700;text-decoration:none}.paywall-cpt a:hover{text-decoration:underline}.paywall-cpt .paywall-cpt-wrap__text-head,.paywall-cpt a{color:#000}.paywall-cpt-oglobo .paywall-cpt-wrap__text-head,.paywall-cpt-oglobo a{color:#325e94}.paywall-cpt-wrap{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-bottom:20px}@media screen and (min-width:1024px){.paywall-cpt-wrap{-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}}.paywall-cpt-wrap img{display:block;max-width:100%;height:auto}.paywall-cpt-wrap__top{padding-top:20px}.paywall-cpt-wrap__text-head{width:100%;text-align:center;padding:20px 0 0;font-size:20px;font-weight:700}.paywall-cpt-wrap__text-center{width:100%;text-align:center;padding:20px 0;color:#767676;font-size:16px}.paywall-cpt-wrap__text-center.is-hide{padding-bottom:0}\n\t  </style>"}}]),e}(),b=new w,x=new m;function k(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,Piano.util.isRevista()||Piano.util.isValor()?t.src=Piano.configuracao.jsonConfiguracaoTinyPass[Piano.variaveis.getAmbientePiano()].urlSandboxPianoRevistas:t.src=Piano.configuracao.jsonConfiguracaoTinyPass[Piano.variaveis.getAmbientePiano()].urlSandboxPiano;var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e),x.setEvents("Carregamento Piano","Script adicionado")}function E(){return(E=c()(s.a.mark(function t(){var e;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return b.setPiano(Piano),e=new f,t.prev=2,t.next=5,e.init();case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),console.error(t.t0);case 10:window.Piano.checkPianoActive(),window.tinyCpt.debug.tiny&&console.log("log-method","pianoInit"),window.tinyCpt.Swg.global?window.SWG.push(function(t){window.tinyCpt.debug.swg&&console.log("log-subscriptions",t),(swg=t).setOnEntitlementsResponse(function(t){t.then(function(t){if(window.swgEntitlements=t,x.setEvents("Carregamento SWG","Entitlements recebidos"),window.tinyCpt.Piano.util.temVariaveisObrigatorias())try{window.tinyCpt.Piano.construtor.initTp(),k()}catch(t){x.setEventsError("Piano nao foi carregada corretamente!",document.location.href)}})})}):(x.setEventsError("Entitlements não carregado",document.location.href),window.tinyCpt.Piano.util.temVariaveisObrigatorias()&&(window.tinyCpt.Piano.construtor.initTp(),k()));case 11:case"end":return t.stop()}},t,null,[[2,7]])}))).apply(this,arguments)}x.setGlobalVars(),Piano.typePaywall=null,Piano.variaveis={ambientesAceitos:"int,qlt,prd",statusHttpObterAutorizacaoAcesso:"400,404,406,500,502,503,504",statusHttpObterAssinaturaInadimplente:"400,404,500,502,503,504",isCallbackMetterExpired:!1,constante:{cookie:{GCOM:"GLBID",UTP:"_utp",RTIEX:"_rtiex",AMBIENTE:"ambientePiano",SAVE_SUBSCRIPTION:"saveSubscriptionCookie",CREATED_GLOBOID:"createdGloboId",GLOBOID_MESSAGE:"globoIdMessage"},metricas:{EVENTO_SEM_ACAO:"sem acao",ERRO:"Erro"},krux:{SEGMENTACOES:"kxglobo_segs",KRUXLIGADO:"krux-ligado"},util:{IP:"127.0.0.1",AMBIENTE:"ambiente-desejado",DEBUG:"debug-piano"}},isConteudoExclusivo:function(){return!!window.conteudoExclusivo},getAmbientePiano:function(){return-1<Piano.variaveis.ambientesAceitos.indexOf(Piano.util.getValorParametroNaUrl(Piano.variaveis.constante.util.AMBIENTE))?(d.setCookie(Piano.variaveis.constante.cookie.AMBIENTE,Piano.util.getValorParametroNaUrl(Piano.variaveis.constante.util.AMBIENTE),1),Piano.util.getValorParametroNaUrl(Piano.variaveis.constante.util.AMBIENTE)):("false"==Piano.util.getValorParametroNaUrl(Piano.variaveis.constante.util.AMBIENTE)&&d.setCookie(Piano.variaveis.constante.cookie.AMBIENTE,"",-1),d.getCookie(Piano.variaveis.constante.cookie.AMBIENTE)?d.getCookie(Piano.variaveis.constante.cookie.AMBIENTE):-1<Piano.variaveis.ambientesAceitos.indexOf(window.ambienteUtilizadoPiano)?window.ambienteUtilizadoPiano:"prd")},getTipoConteudoPiano:function(){return window.tipoConteudoPiano},executouPageview:function(){return!!window.executouPageview},getNomeProduto:function(){if(window.nomeProdutoPiano)return window.nomeProdutoPiano;x.setEventsError("Nome do produto não definido.",window.location.href)},getServicoId:function(){var t="0000";return"oglobo"===Piano.variaveis.getNomeProduto()||"blogs"===Piano.variaveis.getNomeProduto()||"kogut"===Piano.variaveis.getNomeProduto()||"acervo"===Piano.variaveis.getNomeProduto()||"jornaldigital"===Piano.variaveis.getNomeProduto()?"3981":Piano.util.isRevista()&&"monet"===Piano.variaveis.getNomeProduto()?"6618":Piano.util.isRevista()?"6697":"valor"===Piano.variaveis.getNomeProduto()?"6668":("0000"===t&&x.setEventsError("ServiceID não definido.",document.location.href+" nomeProduto: "+Piano.variaveis.getNomeProduto()),t)},getCodigoProduto:function(){var t=Piano.variaveis.getNomeProduto();switch(t){case"oglobo":case"blogs":case"kogut":return"OG03";case"acervo":return"OG04";case"jornaldigital":return"OG01";case"auto-esporte":case"epoca":case"vogue":case"glamour":case"casa-vogue":case"marie-claire":case"globo-rural":case"gq":case"monet":case"crescer":case"galileu":return t;case"casa-e-jardim":return"casa-jardim";case"quem-acontece":return"quem";case"valor":return"valordigital";default:return x.setEventsError("Ao obter código do produto",t+" - "+document.location.href),Piano.autenticacao.defineUsuarioPiano(!0,"erro",!0," "),"error"}}},Piano.janelaAnonima={retry:function(t,e){var o=0,i=!1,a=window.setInterval(function(){t()&&(window.clearInterval(a),e(i)),50<o++&&(window.clearInterval(a),e(i=!0))},10)},isIE10OrLater:function(t){var e=t.toLowerCase(),o=/(?:msie|rv:)\s?([\d\.]+)/.exec(e);return(0!==e.indexOf("msie")||0!==e.indexOf("trident"))&&!!(o&&10<=parseInt(o[1],10))},detectPrivateMode:function(e){var o;if(window.webkitRequestFileSystem)window.webkitRequestFileSystem(window.TEMPORARY,1,function(){o=!1},function(t){o=!0});else if(window.indexedDB&&/Firefox/.test(window.navigator.userAgent)){var i;try{i=window.indexedDB.open("test")}catch(t){o=!0}void 0===o&&Piano.janelaAnonima.retry(function(){return"done"===i.readyState},function(t){t||(o=!i.result)})}else if(Piano.janelaAnonima.isIE10OrLater(window.navigator.userAgent)){o=!1;try{window.indexedDB||(o=!0)}catch(t){o=!0}}else if(window.localStorage&&/Safari/.test(window.navigator.userAgent)){try{window.localStorage.setItem("test",1)}catch(t){o=!0}void 0===o&&(o=!1,window.localStorage.removeItem("test"))}Piano.janelaAnonima.retry(function(){return void 0!==o},function(t){e(o)})}},Piano.krux={tem:function(){return!!window.localStorage.getItem(Piano.variaveis.constante.krux.SEGMENTACOES)},ligado:function(){var t=Piano.variaveis.constante.krux.KRUXLIGADO,e=Piano.util.getValorParametroNaUrl(t);return"false"==e&&"prd"!=window.ambienteUtilizadoPiano?(d.setCookie(t,e,1),!1):"true"==e||"prd"==window.ambienteUtilizadoPiano?(d.setCookie(t,"",-1),!0):"false"!=d.getCookie(Piano.variaveis.constante.krux.KRUXLIGADO)},obtemSegmentacao:function(){if(Piano.krux.tem()&&Piano.krux.ligado())for(var t=window.localStorage.getItem(Piano.variaveis.constante.krux.SEGMENTACOES).split(","),e=0;e<t.length;e++)tp.push(["setCustomVariable",t[e],t[e]])}},Piano.regionalizacao={getRegion:function(){var t=localStorage.getItem("kxglobo_geo");t&&t.split("&").forEach(function(t){var e=t.split("="),o=e[0],i=e[1];"region"===o&&tp.push(["setCustomVariable","region",i])})}},Piano.metricas={enviaEventosGA:function(t,e){void 0!==window.nomeProdutoPiano&&"valor"===window.nomeProdutoPiano?_gaq.push(["_trackEvent","Piano",t,e,,!0]):dataLayer.push({event:"EventoGAPiano",eventoGACategoria:"Piano",eventoGAAcao:t,eventoGARotulo:e})},montaRotuloGA:function(){return window.regrasTiny&&window.regrasTiny.nomeExperiencia?window.subsegmentacaoPiano?window.regrasTiny.nomeExperiencia+" - "+window.subsegmentacaoPiano:window.regrasTiny.nomeExperiencia:window.nomeExperiencia?window.subsegmentacaoPiano?window.nomeExperiencia+" - "+window.subsegmentacaoPiano:window.nomeExperiencia:" "},setLimiteContagem:function(t){_GALimite="-",_GAContagem="-",t&&(_GAContagem=""+t.views,1==_GAContagem.length&&(_GAContagem="0"+_GAContagem),_GALimite=t.nomeExperiencia+" : "+t.maxViews)},identificarPassagemRegister:function(t){var e=Piano.variaveis.constante.metricas.EVENTO_SEM_ACAO;return d.getCookie(Piano.variaveis.constante.cookie.RTIEX)&&(e=-1!=t.fluxo.indexOf("hardwall")?"register-hardwall-passou":"register-contagem-passou",d.setCookie(Piano.variaveis.constante.cookie.RTIEX,"",-1)),e},executaAposPageview:function(t){Piano.variaveis.executouPageview()||(window.regrasTiny.fluxo=window.tpContext?tpContext.toLowerCase():"-",window.regrasTiny.nomeExperiencia=window.nomeExperiencia?window.nomeExperiencia:"",Piano.metricas.setLimiteContagem(window.regrasTiny),0==t&&x.setEvents(Piano.metricas.identificarPassagemRegister(window.regrasTiny),Piano.metricas.montaRotuloGA()),executouPageview=!0)},setaVariaveis:function(t,e,o){PaywallAnalytics.idLoginAssinante=t,PaywallAnalytics.tipoLoginAssinante=e,PaywallAnalytics.assinaturaLogada=o}},Piano.banner={mostrarFooter:function(t){Piano.util.adicionarCss("<link rel='stylesheet' type='text/css' href='https://static"+Piano.util.montaUrlStg()+".infoglobo.com.br/paywall/footer-piano/"+t+"/styles/styles.css'>"),Piano.xmlHttpRequest.geraScriptNaPagina("https://static"+Piano.util.montaUrlStg()+".infoglobo.com.br/paywall/footer-piano/"+t+"/scripts/novo-banner-footer.js")},mostrarBotaoAssinaturaHeaderFooter:function(t){Piano.util.adicionarCss("<link rel='stylesheet' type='text/css' href='https://static"+Piano.util.montaUrlStg()+".infoglobo.com.br/paywall/banner-header-footer-piano/"+t+"/styles/styles.css'>"),Piano.xmlHttpRequest.geraScriptNaPagina("https://static"+Piano.util.montaUrlStg()+".infoglobo.com.br/paywall/banner-header-footer-piano/"+t+"/scripts/banner-header-footer-piano.js")},mostrarAvatarHeader:function(t){Piano.util.adicionarCss("<link rel='stylesheet' type='text/css' href='https://static"+Piano.util.montaUrlStg()+".infoglobo.com.br/paywall/avatar-header-piano/"+t+"/styles/styles.css'>"),Piano.xmlHttpRequest.geraScriptNaPagina("https://static"+Piano.util.montaUrlStg()+".infoglobo.com.br/paywall/avatar-header-piano/"+t+"/scripts/avatar-header-piano.js")},bottomFixed:function(t){var e=0<arguments.length&&void 0!==t?t:{};window.glbBannerBottom=e,Piano.util.adicionarCss("<link rel='stylesheet' type='text/css' href='https://static"+Piano.util.montaUrlStg()+".infoglobo.com.br/paywall/banner-bottom-fixed/styles/banner-bottom-fixed.css'>"),Piano.xmlHttpRequest.geraScriptNaPagina("https://static"+Piano.util.montaUrlStg()+".infoglobo.com.br/paywall/banner-bottom-fixed/scripts/banner-bottom-fixed.js")},mostrarSWG:function(){var t="<link rel='stylesheet' type='text/css' href='https://static".concat(Piano.util.montaUrlStg(),".infoglobo.com.br/paywall/swg/v1/styles/style.css'>"),e="https://static".concat(Piano.util.montaUrlStg(),".infoglobo.com.br/paywall/swg/v1/script/anuncio-swg.js");Piano.util.adicionarCss(t),Piano.xmlHttpRequest.geraScriptNaPagina(e)},mostrarHighlightSale:function(t){Piano.util.adicionarCss("<link rel='stylesheet' type='text/css' href='https://static"+Piano.util.montaUrlStg()+".infoglobo.com.br/paywall/highlight-sale/"+t+"/styles/styles.css'>"),Piano.xmlHttpRequest.geraScriptNaPagina("https://static"+Piano.util.montaUrlStg()+".infoglobo.com.br/paywall/highlight-sale/"+t+"/scripts/highlight-sale.js")},mostrarSubscribeButtonValor:function(t){Piano.xmlHttpRequest.geraScriptNaPagina("https://static"+Piano.util.montaUrlStg()+".infoglobo.com.br/paywall/valor-subscribe-button/"+t+"/scripts/subscribe-button.js")}},Piano.register={mostrarBarreira:function(t){Piano.util.adicionarCss("<link rel='stylesheet' type='text/css' href='https://static"+Piano.util.montaUrlStg()+".infoglobo.com.br/paywall/register-piano/"+t+"/styles/styles.css'>"),Piano.xmlHttpRequest.geraScriptNaPagina("https://static"+Piano.util.montaUrlStg()+".infoglobo.com.br/paywall/register-piano/"+t+"/scripts/nova-tela-register.js"),d.setCookie(Piano.variaveis.constante.cookie.UTP,"",-1),x.setEvents("Exibicao Register",Piano.metricas.montaRotuloGA()),d.setCookie(Piano.variaveis.constante.cookie.RTIEX,!0,1)}},Piano.helper={mostrarBarreira:function(){Piano.xmlHttpRequest.geraScriptNaPagina("https://s3.glbimg.com/v1/AUTH_65d1930a0bda476ba8d3c25c5371ec3f/piano/helper/register.js"),d.setCookie(Piano.variaveis.constante.cookie.UTP,"",-1),x.setEvents("Exibicao Register",Piano.metricas.montaRotuloGA()),d.setCookie(Piano.variaveis.constante.cookie.RTIEX,!0,1)}},Piano.paywall={redirecionarBarreira:function(t){x.setEvents("Barreira",Piano.metricas.montaRotuloGA()),d.setCookie(Piano.variaveis.constante.cookie.UTP,"",-1),setTimeout(function(){window.location.href=t},1e3)},show:function(t){var e=0<arguments.length&&void 0!==t?t:null;Piano.typePaywall=e;try{new y,window.hasPaywall=!0}catch(t){console.error("Paywall - Error on load"),Piano.triggerAdvertising()}}},Piano.checkPianoActive=function(){var t=0,e=setInterval(function(){"undefined"!==window.tp&&window.tp.experience&&window.tp.experience._getLastExecutionResult()&&window.tp.experience._getLastExecutionResult().result&&window.tp.experience._getLastExecutionResult().result.events?(Piano.checkPaywall(window.tp.experience._getLastExecutionResult().result.events),clearInterval(e)):(10===t&&(Piano.triggerAdvertising(),clearInterval(e)),t++)},500)},Piano.checkPaywall=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,e=!1;t&&(t.forEach(function(t){"runJs"===t.eventType&&"undefined"!==t.eventParams.snippet&&(t.eventParams.snippet.includes("paywall.show")||t.eventParams.snippet.includes("mostrarBarreira"))&&(window.hasPaywall=!0,e=!0)}),e||Piano.triggerAdvertising())},Piano.triggerAdvertising=function(){window.hasPaywall=!1;var t=new CustomEvent("clearForAds");document.dispatchEvent(t)},Piano.registerPaywall={mostrarBarreira:function(t,e){var o=0<arguments.length&&void 0!==t?t:null,i=1<arguments.length&&void 0!==e?e:null;Piano.typePaywall=i,o&&Piano.typePaywall?(Piano.util.adicionarCss("<link rel='stylesheet' type='text/css' href='https://static"+Piano.util.montaUrlStg()+".infoglobo.com.br/paywall/register-paywall-piano/"+o+"/styles/styles.css'>"),Piano.xmlHttpRequest.geraScriptNaPagina("https://static"+Piano.util.montaUrlStg()+".infoglobo.com.br/paywall/register-paywall-piano/"+o+"/scripts/register-paywall-piano.js",function(t){200!==t.status?Piano.triggerAdvertising():window.hasPaywall=!0}),"register"===Piano.typePaywall||"exclusivo"===Piano.typePaywall?(x.setEvents("Exibicao Register",Piano.metricas.montaRotuloGA()),d.setCookie(Piano.variaveis.constante.cookie.RTIEX,!0,1)):x.setEvents("Barreira",Piano.metricas.montaRotuloGA())):Piano.triggerAdvertising()}},Piano.comunicado={mostrarInformacao:function(t){Piano.util.adicionarCss("<link rel='stylesheet' type='text/css' href='https://static"+Piano.util.montaUrlStg()+".infoglobo.com.br/paywall/comunicacao-piano/"+t+"/styles/styles.css'>"),Piano.xmlHttpRequest.geraScriptNaPagina("https://static"+Piano.util.montaUrlStg()+".infoglobo.com.br/paywall/comunicacao-piano/"+t+"/scripts/comunicacao-piano.js")}},Piano.adblock={mostrarAdBlock:function(t){var e=0<arguments.length&&void 0!==t?t:{};e.assetsPath="https://static".concat(Piano.util.montaUrlStg(),".infoglobo.com.br/paywall/adblock-piano/v4/"),window.glbAdblock=e,Piano.util.adicionarCss("<link rel='stylesheet' type='text/css' href='https://static"+Piano.util.montaUrlStg()+".infoglobo.com.br/paywall/adblock-piano/v4/styles/styles.css'>"),Piano.xmlHttpRequest.geraScriptNaPagina("https://static"+Piano.util.montaUrlStg()+".infoglobo.com.br/paywall/adblock-piano/v4/scripts/adblock-piano.js")}},Piano.bloqueios={liberarEsc:function(){Piano.xmlHttpRequest.geraScriptNaPagina("https://static"+Piano.util.montaUrlStg()+".infoglobo.com.br/paywall/bloqueio/liberaTeclado.js")},bloqueiaViewMode:function(){Piano.xmlHttpRequest.geraScriptNaPagina("https://static"+Piano.util.montaUrlStg()+".infoglobo.com.br/paywall/bloqueio/bloqueiaViewmode.js")}},Piano.parceiro={mostraFooterParceiro:function(t){Piano.util.adicionarCss("<link rel='stylesheet' type='text/css' href='https://static"+Piano.util.montaUrlStg()+".infoglobo.com.br/paywall/footer-parceiros-piano/"+t+"/styles/styles.css'>"),Piano.xmlHttpRequest.geraScriptNaPagina("https://static"+Piano.util.montaUrlStg()+".infoglobo.com.br/paywall/footer-parceiros-piano/"+t+"/scripts/footer-parceiros-piano.js")}},Piano.inadimplente={getLinkAssinatura:function(t){for(var e=0;e<t.length;e++)if("assinatura"==t[e].rel)return t[e].href;return""}},Piano.xmlHttpRequest={geraScriptNaPagina:function(o,i){var a=new XMLHttpRequest;a.open("GET",o),a.send(),a.onreadystatechange=function(){if(4===this.readyState)if(200===this.status){var t=a.responseText,e=document.createElement("script");e.innerHTML=t,document.body.appendChild(e)}else x.setEventsError("Erro na função gerar script na página.","url: "+o+" StatusErro: "+this.status+" Stack: "+this.statusText);i&&i(a)}},fazRequisicaoBarramentoApiObterAssinaturaInadimplente:function(t){var e=new XMLHttpRequest;if(e.open("GET",t,!1),e.setRequestHeader("Accept","application/json"),e.setRequestHeader("Content-Type","application/json"),e.send(),4==e.readyState)if(200==e.status){var o=e.responseText,i=JSON.parse(o).situacaoPagamento.toLowerCase();tp.push(["setCustomVariable","situacaoPagamento",i])}else 0!=e.status&&-1<Piano.variaveis.statusHttpObterAssinaturaInadimplente.indexOf(e.status)?x.setEventsError("Api de inadimplente",e.status+" - "+t):x.setEventsError("Api de inadimplente","Status Desconhecido - "+t)},fazRequisicaoBarramentoApiAutorizacaoAcesso:function(e){var t=Piano.variaveis.getCodigoProduto();if("error"!=t){var o=JSON.stringify({"token-autenticacao":e,ipUsuario:Piano.variaveis.constante.util.IP,codigoProduto:t}),i=new XMLHttpRequest;if(i.open("POST",Piano.configuracao.jsonConfiguracaoTinyPass[Piano.variaveis.getAmbientePiano()].urlVerificaLeitor,!1),i.setRequestHeader("Accept","application/json"),i.setRequestHeader("Content-Type","application/json"),i.send(o),4===i.readyState)if(200===i.status){var a=i.responseText,n=JSON.parse(a),r=!1,s="",c="";void 0!==n.motivo&&(s=n.motivo.toLowerCase()),void 0!==n.temTermoDeUso&&(r=n.temTermoDeUso),void 0!==n.link&&(c=Piano.inadimplente.getLinkAssinatura(n.link));var l=Piano.autenticacao.isAutorizado(r,s,n.autorizado,c);Piano.autenticacao.defineUsuarioPiano(n.autorizado,s,l,r);var u={autorizado:n.autorizado,motivo:s,logado:l,temTermoDeUso:r,glbid:e,produto:Piano.variaveis.getNomeProduto(),codProduto:t,uuid:n.usuarioId};if(u=btoa(encodeURI(JSON.stringify(u))),d.setCookie(Piano.variaveis.constante.cookie.UTP,u,1),"undefined"!=typeof swg&&Piano.google.showSaveSubscription(n))try{(new SwgService).saveGloboSubscription(e)}catch(t){x.setEventsError("Erro ao chamar a função showSaveSubscription do Aldebaran.","URL: "+document.location.href+" GLBID: "+e+" Erro: "+t)}1==n.autorizado&&Piano.metricas.setaVariaveis(n.usuarioId,"Globo ID","O Globo")}else x.setEventsError("API de autorizacao de acesso",i.status+" - "+e),Piano.autenticacao.defineUsuarioPiano(!0,"erro",!0," ")}}},Piano.google={isAuthorized:function(){return swgEntitlements.getEntitlementForSource("oglobo.globo.com")?(Piano.metricas.setaVariaveis(swgEntitlements.getEntitlementForSource("oglobo.globo.com").subscriptionToken,"Conta Google","O Globo"),!0):!!d.getCookie(Piano.variaveis.constante.cookie.CREATED_GLOBOID)&&(Piano.metricas.setaVariaveis(d.getCookie(Piano.variaveis.constante.cookie.CREATED_GLOBOID),"Conta Google","Google"),!0)},isSpecificGoogleUser:function(){if(!Piano.google.isAuthorized())try{(new OGloboBusiness).verifyIfUserHasAccessOrDeferred(swgEntitlements)}catch(t){x.setEventsError("Erro ao executar o Aldebaran","Error: "+t+" - Entitlements: "+swgEntitlements.entitlements[0].subscriptionToken)}},showSaveSubscription:function(t){return!swgEntitlements.enablesThis()&&"AUTORIZADO"===t.motivo&&!d.getCookie(Piano.variaveis.constante.SAVE_SUBSCRIPTION)}},Piano.autenticacao={isLogadoCadun:function(t,e){return t||(e&&d.setCookie(Piano.variaveis.constante.cookie.UTP,"",-1),d.getCookie(Piano.variaveis.constante.cookie.RTIEX)&&d.setCookie(Piano.variaveis.constante.cookie.RTIEX,"",-1)),""!=t},verificaUsuarioLogadoNoBarramento:function(t,e){if(Piano.autenticacao.isLogadoCadun(t,e)){if(e){var o=JSON.parse(decodeURI(atob(e)));if(t==o.glbid&&(void 0===o.produto||o.produto==Piano.variaveis.getNomeProduto()))return Piano.autenticacao.defineUsuarioPiano(o.autorizado,o.motivo,o.logado,o.temTermoDeUso),void(o.autorizado&&Piano.metricas.setaVariaveis(o.uuid,"Globo ID","O Globo"));d.setCookie(Piano.variaveis.constante.cookie.UTP,"",-1)}Piano.xmlHttpRequest.fazRequisicaoBarramentoApiAutorizacaoAcesso(t)}},isAutorizado:function(t,e,o,i){return o||"indisponivel"==e||0!=t?(o&&i&&Piano.xmlHttpRequest.fazRequisicaoBarramentoApiObterAssinaturaInadimplente(i),!0):(d.getCookie(Piano.variaveis.constante.cookie.RTIEX)&&d.setCookie(Piano.variaveis.constante.cookie.RTIEX,"",-1),!1)},defineUsuarioPiano:function(t,e,o,i){tp.push(["setCustomVariable","autorizado",t]),tp.push(["setCustomVariable","motivo",e]),tp.push(["setCustomVariable","logado",o])," "!=i&&tp.push(["setCustomVariable","temTermo",i])}},Piano.util={isSection:function(){return"section"===Piano.variaveis.getTipoConteudoPiano()},temVariaveisObrigatorias:function(){return void 0===Piano.variaveis.getTipoConteudoPiano()?(x.setEventsError("Variavel tipoConteudoPiano nao esta definida",document.location.href),!1):void 0!==Piano.variaveis.getNomeProduto()||(x.setEventsError("Variavel nomeProdutoPiano nao esta definida",document.location.href),!1)},extraiParametrosCampanhaDaUrl:function(){for(var t=Piano.util.getWindowLocationSearch(),e=["utm_medium","utm_source"],o=[],i=0;i<e.length;i++){var a=e[i];if(-1!=t.indexOf(a+"=")){var n=new RegExp("[?(&)]"+a+"=([^&#]*)"),r=t.match(n)[1];r&&o.push(r)}}if(0<o.length&&tp.push(["setCustomVariable","utm",o.join(";")]),-1!=t.indexOf("utm_campaign=")){n=new RegExp("utm_campaign=(\\w+)");var s=t.match(n)[1];s&&tp.push(["setCustomVariable","campanha",s])}},isOrigemBuscador:function(){var t=navigator.userAgent,e=new RegExp("(ia_archiver)|(Googlebot)|(Mediapartners-Google)|(AdsBot-Google)|(msnbot)|(Yahoo! Slurp)|(ZyBorg)|(Ask Jeeves/Teoma)|(bingbot)|(cXensebot)").test(t);return tp.push(["setCustomVariable","buscador",e]),e},montaUrlStg:function(){return"prd"!=Piano.variaveis.getAmbientePiano()?"-stg":""},temParametroNaUrl:function(t){return-1!=Piano.util.getWindowLocationSearch().indexOf(t)},getValorParametroNaUrl:function(t){if(Piano.util.temParametroNaUrl(t)){var e=Piano.util.getWindowLocationSearch(),o=new RegExp("[?(&)]"+t+"=([^&#]*)");return e.match(o)[1]}return"sem parametro"},isDebug:function(){var t=Piano.variaveis.constante.util.DEBUG,e=Piano.util.getValorParametroNaUrl(t);return"true"==e?(d.setCookie(t,e,1),!0):"false"==e?(d.setCookie(t,"",-1),!1):!!d.getCookie(Piano.variaveis.constante.util.DEBUG)},isDominioOGlobo:function(){var t=new RegExp("://(.*?)/"),e=Piano.util.getWindowLocationHref();return-1<e.match(t)[1].indexOf("oglobo")||-1<e.match(t)[1].indexOf("globoi")&&-1==e.match(t)[1].indexOf("edg")?e.match(t)[1]:""},callbackMeter:function(t){window.regrasTiny=t,Piano.metricas.executaAposPageview(!1)},callbackMeterExpired:function(t){window.regrasTiny=t,Piano.variaveis.isCallbackMetterExpired=!0,Piano.metricas.executaAposPageview(!0)},getWindowLocationSearch:function(){return window.location.search},getWindowLocationHref:function(){return window.location.href},adicionarCss:function(t){var e=document.createElement("div");e.innerHTML=t,document.body.insertBefore(e,document.body.lastChild)},isRevista:function(){return-1<["epoca","auto-esporte","vogue","glamour","casa-vogue","marie-claire","casa-e-jardim","quem-acontece","globo-rural","gq","monet","crescer","galileu"].indexOf(Piano.variaveis.getNomeProduto())},recarregaPiano:function(t,e,o){window.tipoConteudoPiano=t,window.conteudoExclusivo=e,window.nomeProdutoPiano=o,void 0!==window.regrasTiny&&(window.regrasTiny.nomeExperiencia=""),Piano.construtor.initTp(),tp.experience.execute()},isValor:function(){return"valor"===Piano.variaveis.getNomeProduto()}},Piano.configuracao={jsonConfiguracaoTinyPass:{int:{idSandboxTinypass:"dXu7dvFKRi",idSandboxTinypassRevistas:"MctFgRCEsu",setSandBox:"true",urlSandboxPiano:"https://sandbox.tinypass.com/xbuilder/experience/load?aid=dXu7dvFKRi",urlSandboxPianoRevistas:"https://sandbox.tinypass.com/xbuilder/experience/load?aid=MctFgRCEsu",urlVerificaLeitor:"https://apiqlt-ig.infoglobo.com.br/relacionamento/v3/funcionalidade/"+Piano.variaveis.getServicoId()+"/autorizacao-acesso",urlDominioPaywall:"https://assinatura.globostg.globoi.com/",urlDominioSiteOGlobo:Piano.util.isDominioOGlobo()+"/"},qlt:{idSandboxTinypass:"GTCopIDc5z",idSandboxTinypassRevistas:"VnaP3rYVKc",setSandBox:"false",urlSandboxPiano:"https://experience.tinypass.com/xbuilder/experience/load?aid=GTCopIDc5z",urlSandboxPianoRevistas:"https://experience.tinypass.com/xbuilder/experience/load?aid=VnaP3rYVKc",urlVerificaLeitor:"https://apiqlt-ig.infoglobo.com.br/relacionamento/v3/funcionalidade/"+Piano.variaveis.getServicoId()+"/autorizacao-acesso",urlDominioPaywall:"https://assinatura.globostg.globoi.com/",urlDominioSiteOGlobo:Piano.util.isDominioOGlobo()+"/"},prd:{idSandboxTinypass:"GTCopIDc5z",idSandboxTinypassRevistas:"VnaP3rYVKc",setSandBox:"false",urlSandboxPiano:"https://experience.tinypass.com/xbuilder/experience/load?aid=GTCopIDc5z",urlSandboxPianoRevistas:"https://experience.tinypass.com/xbuilder/experience/load?aid=VnaP3rYVKc",urlVerificaLeitor:"https://api.infoglobo.com.br/relacionamento/v3/funcionalidade/"+Piano.variaveis.getServicoId()+"/autorizacao-acesso",urlDominioPaywall:"https://assinatura.oglobo.globo.com/",urlDominioSiteOGlobo:Piano.util.isDominioOGlobo()+"/"}}},Piano.construtor={initTp:function(){x.setEvents("Carregamento Piano","Inicio InitTp"),tp=window.tp||[],tp.push(["setTags",[Piano.variaveis.getTipoConteudoPiano()]]),Piano.util.isRevista()||Piano.util.isValor()?tp.push(["setAid",Piano.configuracao.jsonConfiguracaoTinyPass[Piano.variaveis.getAmbientePiano()].idSandboxTinypassRevistas]):tp.push(["setAid",Piano.configuracao.jsonConfiguracaoTinyPass[Piano.variaveis.getAmbientePiano()].idSandboxTinypass]),tp.push(["setSandbox",Piano.configuracao.jsonConfiguracaoTinyPass[Piano.variaveis.getAmbientePiano()].setSandBox]),tp.push(["setDebug",Piano.util.isDebug()]);var t=Piano.util.getWindowLocationHref().split("?")[0];tp.push(["setPageURL",t]),tp.push(["setZone",Piano.variaveis.getNomeProduto()]),tp.push(["setCustomVariable","nomeProduto",Piano.variaveis.getNomeProduto()]),Piano.janelaAnonima.detectPrivateMode(function(t){tp.push(["setCustomVariable","anonimo",t])}),Piano.variaveis.isConteudoExclusivo()&&tp.push(["setCustomVariable","conteudoExclusivo",!0]),"undefined"!=typeof swg&&"undefined"!=typeof swgEntitlements&&swgEntitlements.enablesThis()?(Piano.google.isSpecificGoogleUser(swgEntitlements),Piano.autenticacao.defineUsuarioPiano(!0,"AUTORIZADO",!0,"")):Piano.autenticacao.verificaUsuarioLogadoNoBarramento(d.getCookie(Piano.variaveis.constante.cookie.GCOM),d.getCookie(Piano.variaveis.constante.cookie.UTP)),Piano.regionalizacao.getRegion(),Piano.krux.obtemSegmentacao(),tp.push(["setCustomVariable","bannerContadorLigado",!0]),Piano.util.isOrigemBuscador()||Piano.util.extraiParametrosCampanhaDaUrl(),tp.push(["addHandler","meterActive",Piano.util.callbackMeter]),tp.push(["addHandler","meterExpired",Piano.util.callbackMeterExpired]),x.setEvents("Carregamento Piano","Fim InitTp")}},function(){E.apply(this,arguments)}()}]);
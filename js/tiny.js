!function(a){var o={};function i(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return a[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=a,i.c=o,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(a,o,function(t){return e[t]}.bind(null,o));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=5)}([function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function o(t,e){for(var a=0;a<e.length;a++){var o=e[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}t.exports=function(t,e,a){return e&&o(t.prototype,e),a&&o(t,a),t}},function(t,e,a){t.exports=a(4)},function(t,e){function c(t,e,a,o,i,n,r){try{var s=t[n](r),c=s.value}catch(t){return void a(t)}s.done?e(c):Promise.resolve(c).then(o,i)}t.exports=function(s){return function(){var t=this,r=arguments;return new Promise(function(e,a){var o=s.apply(t,r);function i(t){c(o,e,a,i,n,"next",t)}function n(t){c(o,e,a,i,n,"throw",t)}i(void 0)})}}},function(t,e,a){var o=function(n){"use strict";var c,t=Object.prototype,l=t.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},i=e.iterator||"@@iterator",a=e.asyncIterator||"@@asyncIterator",o=e.toStringTag||"@@toStringTag";function r(t,e,a,o){var i=e&&e.prototype instanceof s?e:s,n=Object.create(i.prototype),r=new A(o||[]);return n._invoke=function(n,r,s){var c=d;return function(t,e){if(c===g)throw new Error("Generator is already running");if(c===w){if("throw"===t)throw e;return L()}for(s.method=t,s.arg=e;;){var a=s.delegate;if(a){var o=E(a,s);if(o){if(o===m)continue;return o}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(c===d)throw c=w,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);c=g;var i=u(n,r,s);if("normal"===i.type){if(c=s.done?w:p,i.arg===m)continue;return{value:i.arg,done:s.done}}"throw"===i.type&&(c=w,s.method="throw",s.arg=i.arg)}}}(t,a,r),n}function u(t,e,a){try{return{type:"normal",arg:t.call(e,a)}}catch(t){return{type:"throw",arg:t}}}n.wrap=r;var d="suspendedStart",p="suspendedYield",g="executing",w="completed",m={};function s(){}function f(){}function v(){}var h={};h[i]=function(){return this};var P=Object.getPrototypeOf,y=P&&P(P(T([])));y&&y!==t&&l.call(y,i)&&(h=y);var b=v.prototype=s.prototype=Object.create(h);function x(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function k(c){var e;this._invoke=function(a,o){function t(){return new Promise(function(t,e){!function e(t,a,o,i){var n=u(c[t],c,a);if("throw"!==n.type){var r=n.arg,s=r.value;return s&&"object"==typeof s&&l.call(s,"__await")?Promise.resolve(s.__await).then(function(t){e("next",t,o,i)},function(t){e("throw",t,o,i)}):Promise.resolve(s).then(function(t){r.value=t,o(r)},function(t){return e("throw",t,o,i)})}i(n.arg)}(a,o,t,e)})}return e=e?e.then(t,t):t()}}function E(t,e){var a=t.iterator[e.method];if(a===c){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=c,E(t,e),"throw"===e.method))return m;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var o=u(a,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,m;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,m):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function T(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function t(){for(;++a<e.length;)if(l.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=c,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:c,done:!0}}return f.prototype=b.constructor=v,v.constructor=f,v[o]=f.displayName="GeneratorFunction",n.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,o in t||(t[o]="GeneratorFunction")),t.prototype=Object.create(b),t},n.awrap=function(t){return{__await:t}},x(k.prototype),k.prototype[a]=function(){return this},n.AsyncIterator=k,n.async=function(t,e,a,o){var i=new k(r(t,e,a,o));return n.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},x(b),b[o]="Generator",b[i]=function(){return this},b.toString=function(){return"[object Generator]"},n.keys=function(a){var o=[];for(var t in a)o.push(t);return o.reverse(),function t(){for(;o.length;){var e=o.pop();if(e in a)return t.value=e,t.done=!1,t}return t.done=!0,t}},n.values=T,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&l.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(a){if(this.done)throw a;var o=this;function t(t,e){return n.type="throw",n.arg=a,o.next=t,e&&(o.method="next",o.arg=c),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var i=this.tryEntries[e],n=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var r=l.call(i,"catchLoc"),s=l.call(i,"finallyLoc");if(r&&s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(r){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(t,e){for(var a=this.tryEntries.length-1;0<=a;--a){var o=this.tryEntries[a];if(o.tryLoc<=this.prev&&l.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var n=i?i.completion:{};return n.type=t,n.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(n)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var a=this.tryEntries[e];if(a.finallyLoc===t)return this.complete(a.completion,a.afterLoc),S(a),m}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var a=this.tryEntries[e];if(a.tryLoc===t){var o=a.completion;if("throw"===o.type){var i=o.arg;S(a)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,a){return this.delegate={iterator:T(t),resultName:e,nextLoc:a},"next"===this.method&&(this.arg=c),m}},n}(t.exports);try{regeneratorRuntime=o}catch(t){Function("r","regeneratorRuntime = r")(o)}},function(t,e,a){"use strict";a.r(e);var o=a(2),s=a.n(o),i=a(3),c=a.n(i),n=a(0),l=a.n(n),r=a(1),u=a.n(r),d=function(){function t(){l()(this,t)}return u()(t,null,[{key:"isDefined",value:function(t){return void 0!==t}},{key:"setCookie",value:function(t,e,a){var o=2<arguments.length&&void 0!==a?a:null,i=new Date,n=location.hostname?location.hostname:null;n&&(i.setDate(i.getDate()+o),document.cookie=t+"="+escape(e)+(o?"":";expires="+i.toUTCString())+"; path=/;domain=."+n.split(".").reverse()[1]+"."+n.split(".").reverse()[0])}},{key:"getCookie",value:function(t){var e=!!document.cookie&&document.cookie.match(new RegExp(t+"=([^;]+)"));return e?unescape(e[1].toString()):""}}]),t}(),p=function(){function t(){l()(this,t),this.productName=void 0!==window.nomeProdutoPiano?window.nomeProdutoPiano:null}return u()(t,[{key:"setGlobal",value:function(){var t={Product:{name:this.productName}};window.tinyCpt=window.tinyCpt?Object.assign(t,window.tinyCpt):t}},{key:"isProductValor",get:function(){return!(!this.productName||"valor"!==this.productName)}}]),t}(),g=function(){function t(){l()(this,t),this.Products=new p,window.hasPaywall=window.hasPaywall||!1,window.tp=window.tp||[],window.Piano=window.Piano||{},window.PaywallAnalytics=window.PaywallAnalytics||{},this.setGlobalTiny(),this.Products.setGlobal(),this.init()}return u()(t,[{key:"setGlobalTiny",value:function(){var t={debug:{tiny:!1,paywall:!1,swg:!1,ga:!1},isProduction:"prd"===window.ambienteUtilizadoPiano};window.tinyCpt=window.tinyCpt?Object.assign(t,window.tinyCpt):t}},{key:"setPiano",value:function(t){window.tinyCpt.Piano=t}},{key:"init",value:function(){}}]),t}(),w=function(){function t(){l()(this,t),this.debug=window.tinyCpt.debug.ga,this.Products=new p}return u()(t,[{key:"setGlobalVars",value:function(){window.dataLayer=window.dataLayer||[],this.Products.isProductValor&&"undefined"==typeof _gaq&&(window._gaq=window._gaq||[])}},{key:"setEvents",value:function(t,e,a){var o=2<arguments.length&&void 0!==a?a:"Piano";window.tinyCpt.debug.ga&&console.log("log-ga-event",o,t,e),this.Products.isProductValor&&_gaq.push(["_trackEvent",o,t,e,,!0]),dataLayer.push({event:"EventoGAPiano",eventoGACategoria:o,eventoGAAcao:t,eventoGARotulo:e})}},{key:"setEventsError",value:function(t,e){this.Products.isProductValor&&_gaq.push(["_trackEvent","Piano Erro",t,e,,!0]),dataLayer.push({event:"EventoGAPiano",eventoGACategoria:"Piano Erro",eventoGAAcao:t,eventoGARotulo:e})}}]),t}(),m=function(){function t(){l()(this,t),window.SWG=window.SWG||[],window.swgEntitlements=window.swgEntitlements||null,this.debug=!!d.isDefined(window.tinyCpt)&&window.tinyCpt.debug.swg,this.disabled=!1,this.content=null,this.localProductPiano="undefined"!=typeof nomeProdutoPiano?nomeProdutoPiano:null,this.hasProductJSON=!1,this.productJSON=null,this.elHead=document.head,this.setGlobalSWG()}var e,a,o,i,n,r;return u()(t,[{key:"setGlobalSWG",value:function(){d.isDefined(window.tinyCpt)&&(window.tinyCpt.Swg={global:"undefined"!=typeof swg?swg:null})}},{key:"setUtms",value:function(){var o=new URLSearchParams(window.location.search.substring(1)),t=void 0!==window.glbPaywall.swg&&void 0!==window.glbPaywall.swg.utms?window.glbPaywall.swg.utms:null;t.forEach(function(t){var e=t.name.toLowerCase(),a=t.value;o.set("utm_".concat(e),a)}),window.tinyCpt.debug.swg&&(console.log("log-method","setUtms"),console.log("log-method-setUtms",t),console.log("log-method-setUtms",location)),!this.disabled&&this.isDefined&&t&&window.tinyCpt.Swg.global.subscribe("br.com.infoglobo.oglobo.swg.google")}},{key:"getProducts",value:(r=c()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.debug)return t.next=3,fetch("../app/mocks/swg/products.json").then(function(t){return t.json()});t.next=4;break;case 3:return t.abrupt("return",t.sent);case 4:return t.next=6,fetch("https://s3.glbimg.com/v1/AUTH_7b0a6df49895459fbafe49a96fcb5bbf/swg/products.json").then(function(t){return t.json()});case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}},t,this)})),function(){return r.apply(this,arguments)})},{key:"getProduct",value:(n=c()(s.a.mark(function t(){var e,a,o=this;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.localProductPiano){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.getProducts();case 4:return e=t.sent,a=e.filter(function(t){return t.pianoProductName===o.localProductPiano})[0],t.abrupt("return",a||null);case 7:case"end":return t.stop()}},t,this)})),function(){return n.apply(this,arguments)})},{key:"removeProperties",value:(i=c()(s.a.mark(function t(e){var a,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=["productName","pianoProductName"],o=Object.assign({},e),a.forEach(function(t){delete o[t]}),t.abrupt("return",o);case 4:case"end":return t.stop()}},t)})),function(t){return i.apply(this,arguments)})},{key:"markupTemplate",value:(o=c()(s.a.mark(function t(){var e,a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t1=this,t.next=3,this.getProduct();case 3:return t.t2=t.sent,t.next=6,t.t1.removeProperties.call(t.t1,t.t2);case 6:if(t.t0=t.sent,t.t0){t.next=9;break}t.t0=null;case 9:if(e=t.t0,a=Object.keys(e).length?JSON.stringify(e):null){t.next=15;break}return t.abrupt("return");case 15:this.hasProductJSON=!0,this.debug&&console.log({"log-SWG-Product":a}),this.productJSON="".concat(a);case 18:case"end":return t.stop()}},t,this)})),function(){return o.apply(this,arguments)})},{key:"setMarkup",value:(a=c()(s.a.mark(function t(){var e;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.markupTemplate();case 2:if(this.productJSON){t.next=4;break}return t.abrupt("return");case 4:(e=document.createElement("script")).type="application/ld+json",e.innerHTML=this.productJSON,this.elHead.insertAdjacentElement("beforeend",e);case 8:case"end":return t.stop()}},t,this)})),function(){return a.apply(this,arguments)})},{key:"setSwgScript",value:function(){var t=document.createElement("script");t.src="https://news.google.com/swg/js/v1/swg.js",this.elHead.insertAdjacentElement("beforeend",t)}},{key:"setAldebaranScript",value:function(){var t=document.createElement("script");t.src=window.tinyCpt.isProduction?"https://s3.glbimg.com/v1/AUTH_c10ae819c568460bb4ec17c0a8ec5267/aldebaran/js/bundle.js":"https://s3.glbimg.com/v1/AUTH_addc5e8f316f48ea9181af37160b22b4/aldebaran/js/bundle.js",this.elHead.insertAdjacentElement("beforeend",t)}},{key:"testSWG",value:function(){return new Promise(function(t,e){var a=0,o=setInterval(function(){window.swg&&(window.tinyCpt.Swg.global=window.swg,t(window.tinyCpt.Swg.global),clearInterval(o)),20===a&&(e("There isn't window.swg"),clearInterval(o)),a++},100)})}},{key:"init",value:(e=c()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.localProductPiano){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.setMarkup();case 4:if(this.hasProductJSON){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,this.setSwgScript();case 8:return t.next=10,this.setAldebaranScript();case 10:return t.next=12,this.testSWG();case 12:case"end":return t.stop()}},t,this)})),function(){return e.apply(this,arguments)})},{key:"isDefined",get:function(){return!!window.tinyCpt.Swg.global}}]),t}(),f=function(){function t(){l()(this,t),this.debug=window.tinyCpt.debug,this.content=null,this.setExperience()}return u()(t,[{key:"setExperience",value:function(){var t="";window.Piano.experience={},window.regrasTiny&&window.regrasTiny.nomeExperiencia&&(t=window.subsegmentacaoPiano?"".concat(regrasTiny.nomeExperiencia," - ").concat(window.subsegmentacaoPiano):regrasTiny.nomeExperiencia),window.nomeExperiencia&&(t=window.subsegmentacaoPiano?"".concat(window.nomeExperiencia," - ").concat(window.subsegmentacaoPiano):window.nomeExperiencia),window.Piano.experience.name=t}},{key:"resetUtp",value:function(){this.isDefined&&d.setCookie(this.content.variaveis.constante.cookie.UTP,"",-1)}},{key:"isDefined",get:function(){return void 0!==window.tinyCpt&&void 0!==window.tinyCpt.Piano&&(this.content=window.tinyCpt.Piano,!0)}}]),t}(),v=function(){function t(){l()(this,t),this.Piano=new f,this.GA=new w,window.dataLayer=window.dataLayer||[],this.debug=window.tinyCpt.debug.paywall,this.disabled=!1,this.metrics={paywall:{},fb:{pixel:{}}},this.paywallType()}return u()(t,[{key:"paywallLoad",value:function(){if(this.Piano.isDefined){var t=this.Piano.content;this.GA.setEvents("Exibicao Register",window.Piano.experience.name),d.setCookie(t.variaveis.constante.cookie.RTIEX,!0,1)}}},{key:"trigger",value:function(t){if(!this.disabled){var e=t.dataset.gaResetutp||null,a="top"===t.dataset.gaImagePosition?t.dataset.gaLabel+this.metrics.paywall.label:t.dataset.gaLabel,o={event:"EventoGA",eventoGACategoria:this.metrics.paywall.name,eventoGAAcao:t.dataset.gaAction||action,eventoGARotulo:a,eventoGAValor:0,eventoGAInteracao:!1};e&&this.Piano.resetUtp(),this.setDatalayer(o)}}},{key:"paywallType",value:function(){switch(void 0!==window.tinyCpt.Piano&&void 0!==window.tinyCpt.Piano.typePaywall&&window.tinyCpt.Piano.typePaywall?window.tinyCpt.Piano.typePaywall.toLowerCase():"paywall"){case"register":this.metrics.paywall.name="Register comum",this.metrics.paywall.label="Cadastre-se",this.metrics.fb.pixel.name="ViewRegisterWall";break;case"exclusivo":this.metrics.paywall.name="Register exclusivo",this.metrics.paywall.label="Assine agora",this.metrics.fb.pixel.name="ViewLoginExclusivo";break;case"paywall":this.metrics.paywall.name="paywall",this.metrics.paywall.label="Assine agora",this.metrics.fb.pixel.name="ViewPaywallExclusivo"}}},{key:"setDatalayer",value:function(t){var e=0<arguments.length&&void 0!==t?t:{};Object.keys(e).length&&dataLayer.push(e)}}]),t}(),h=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;l()(this,e),this.debug=window.tinyCpt.debug,this.disabled=!1,this.fb=t}return u()(e,[{key:"setPixelType",value:function(){if(!this.disabled){var t=void 0!==this.fb.pixel.name?this.fb.pixel.name:null;this.isDefined&&t&&(fbq("init","410270039520634"),fbq("trackSingle","410270039520634",this.fb.pixel.name))}}},{key:"isDefined",get:function(){return"undefined"!=typeof fbq}}]),e}(),P=function(){function e(){var t=this;l()(this,e),this.Piano=new f,this.GA=new v,this.SWG=new m,this.FB=new h(this.GA.metrics.fb),this.debug=window.tinyCpt.debug.paywall,this.domain=window.tinyCpt.isProduction?"https://login.globo.com/":"https://login.qa.globoi.com/",this.setTemplateSettings(function(){t.init()}),window.PaywallCpt=this,window.tinyCpt.Paywall={domain:this.domain,GA:this.GA.metrics}}return u()(e,[{key:"setTemplateSettings",value:function(t){var e={template:"default",assetsPath:"",display:null,productClass:"undefined"!=typeof nomeProdutoPiano?"paywall-cpt-".concat(nomeProdutoPiano):"paywall-cpt-oglobo",title:"Esse conteúdo é o título.",targetBlank:!0,topMobi:"",topDesk:"",topLink:"",leftMobi:"",leftDesk:"",leftLink:"",rightMobi:"",rightDesk:"",rightLink:"",hideLoginArea:!1,loginText:"Faça login",loginPreText:"Já possui cadastro?"};window.glbPaywall=window.glbPaywall?Object.assign({},e,window.glbPaywall):e,window.glbPaywall.loginTag="".concat(window.glbPaywall.loginPreText,' <a href="').concat(this.getUrlLoginRegister(),'" data-is-login="true" data-ga-action="Clique em link" data-ga-label="Link 2 - Faça login" data-ga-resetUtp="false" data-href-target=" ').concat(window.glbPaywall.targetBlank,' ">').concat(window.glbPaywall.loginText,"</a>"),window.glbPaywall.hideLoginArea&&this.clearLoginArea(),this.debug&&this.setDebugTemplateSettings(),t()}},{key:"clearLoginArea",value:function(){window.glbPaywall&&(window.glbPaywall.loginTag="")}},{key:"setDebugTemplateSettings",value:function(){var t={topMobi:"https://via.placeholder.com/300x150",topDesk:"https://via.placeholder.com/804x128",topLink:"https://google.com?l1",leftMobi:"https://via.placeholder.com/300x500",leftDesk:"https://via.placeholder.com/402x515",leftLink:"https://google.com?l2",rightMobi:"https://via.placeholder.com/300x500",rightDesk:"https://via.placeholder.com/402x515",rightLink:"https://google.com?l3"};window.glbPaywall=Object.assign({},window.glbPaywall,t)}},{key:"bodyAdjust",value:function(){this.elBody.style.setProperty("overflow","hidden","important"),this.elBody.style.setProperty("position","fixed","important"),this.elBody.style.setProperty("width","100%","important")}},{key:"setElWrapper",value:function(){this.elCpt=document.querySelector(".paywall-cpt")}},{key:"removeElements",value:function(){this.setElWrapper(),this.elCpt&&this.elCpt.remove(),document.querySelectorAll(".protected-content").forEach(function(t){t.remove()})}},{key:"createTemplate",value:function(){var t=this;this.elBody=document.body,this.bodyAdjust(),this.removeElements(),this.elBody.insertAdjacentHTML("beforeend",this.cssMinified),this.elBody.insertAdjacentHTML("beforeend",this.template),this.activeTemplateSettings(),window.matchMedia("(min-width: 1024px)").matches&&window.addEventListener("resize",function(){t.activeTemplateSettings()}),this.GA.paywallLoad()}},{key:"activeTemplateSettings",value:function(){var i=this;this.setElWrapper(),this.elCptWrap=this.elCpt.querySelector(".paywall-cpt-wrap"),setTimeout(function(){var t=window.innerHeight+4,e=i.elCptWrap.offsetHeight,a=(window.matchMedia("(min-width: 1024px)").matches,Math.abs(t/2)),o=t-e;i.elCpt.style.top="".concat(a,"px"),i.elCpt.style.opacity=1,i.elCpt.style.zIndex=9999999999,i.evtWheel(a,o),i.evtTouch(a,o),i.activeEvents(),i.FB.setPixelType()},1e3)}},{key:"activeEvents",value:function(){var t=this;this.elCptWrap.querySelectorAll("a").forEach(function(n){n.addEventListener("click",function(t){t.preventDefault();var e=Boolean(n.dataset.isLogin)||!1,a=n.getAttribute("href")||!1,o=!!a&&a.toLowerCase().includes("ofertaswg"),i=n.dataset.hrefTarget||!0;this.GA.trigger(n),!e&&o&&this.SWG.setUtms(),a&&!o&&setTimeout(function(){i?window.location.href=a:window.open(a)},300)}.bind(t))})}},{key:"evtWheel",value:function(i,n){var r=i;window.addEventListener("wheel",function(t){var e=i/100;if(1<=t.deltaY){var a=r-20*e;r=a<n?n:a,this.elCpt.style.top="".concat(r,"px")}if(t.deltaY<=-1){var o=r+20*e;r=i<o?i:o,this.elCpt.style.top="".concat(r,"px")}}.bind(this))}},{key:"evtTouch",value:function(i,n){var r=i,s=0,c=0;window.addEventListener("touchstart",function(t){s=t.changedTouches[0].screenY}),window.addEventListener("touchmove",function(t){if((c=t.changedTouches[0].screenY)<s){var e=Math.abs(s)-Math.abs(c),a=r-e;r=a<n?n:a,this.elCpt.style.top="".concat(r,"px")}if(s<c){var o=r+(c-s);r=i<o?i:o,this.elCpt.style.top="".concat(r,"px")}}.bind(this))}},{key:"getUrlLoginRegister",value:function(t){var e=0<arguments.length&&void 0!==t?t:"",a="prd"===window.ambienteUtilizadoPiano?"https://assinatura.oglobo.globo.com/ValidaUsuarioBarramento.html":"https://assinatura.globostg.globoi.com/ValidaUsuarioBarramento.html",o=location.href,i="",n="";return!this.debug&&this.Piano.isDefined&&(n=encodeURIComponent(a+"?codigoProduto="+this.Piano.content.variaveis.getCodigoProduto()+"&serviceId="+this.Piano.content.variaveis.getServicoId()+"&ambienteUtilizado="+window.ambienteUtilizadoPiano+"&nomeProduto="+this.Piano.content.variaveis.getNomeProduto()+"&urlRetorno="+o),i="register"===e?"".concat(this.domain,"cadastro/").concat(this.Piano.content.variaveis.getServicoId(),"?url=").concat(n):"".concat(this.domain,"login/").concat(this.Piano.content.variaveis.getServicoId(),"?url=").concat(n)),i}},{key:"init",value:function(){var t=this,e=window.glbPaywall&&window.glbPaywall.delayTimer?1e3*window.glbPaywall.delayTimer:0;setTimeout(function(){t.createTemplate()},e)}},{key:"templateVars",get:function(){return window.glbPaywall}},{key:"template",get:function(){return'\n\t  <div class="paywall-cpt '.concat(this.templateVars.productClass,'"> \n\t\t<div class="paywall-cpt-wrap">\n\t\t<div class="paywall-cpt-wrap__text-head">\n\t\t\t').concat(this.templateVars.title,'\n\t\t</div>\n\t\t  <div class="paywall-cpt-wrap__top">\n\t\t  \t<a href="').concat(this.templateVars.topLink,'" data-ga-image-position="top" data-ga-action="Clique em link" data-ga-label="Link 1 -" data-ga-resetUtp="true" data-href-target="').concat(this.templateVars.targetBlank,'">\n\t\t\t\t<picture>\n\t\t\t\t\t<source srcset="').concat(this.templateVars.topMobi,'" media="(max-width: 1023px)">\n\t\t\t\t\t<source srcset="').concat(this.templateVars.topDesk,'" media="(min-width: 1024px)">\n\t\t\t\t\t<img src="').concat(this.templateVars.topMobi,'" />\n\t\t\t\t</picture>\n\t\t\t</a>\n\t\t  </div>\n\t\t  <div class="paywall-cpt-wrap__text-center ').concat(window.glbPaywall.hideLoginArea?"is-hide":"",'">\n\t\t  \t').concat(this.templateVars.loginTag,'\n\t\t  </div>\n\t\t  <div class="paywall-cpt-wrap__left">\n\t\t  \t<a href="').concat(this.templateVars.leftLink,'" data-ga-action="Clique em link" data-ga-label="Link 4 - Banner oferta esquerda" data-ga-resetUtp="true" data-href-target="').concat(this.templateVars.targetBlank,'">\n\t\t\t\t<picture>\n\t\t\t\t\t<source srcset="').concat(this.templateVars.leftMobi,'" media="(max-width: 1023px)">\n\t\t\t\t\t<source srcset="').concat(this.templateVars.leftDesk,'" media="(min-width: 1024px)">\n\t\t\t\t\t<img src="').concat(this.templateVars.leftMobi,'" />\n\t\t\t\t</picture>\n\t\t\t</a>\n\t\t  </div>\n\t\t  <div class="paywall-cpt-wrap__right">\n\t\t  \t<a href="').concat(this.templateVars.rightLink,'"  data-ga-action="Clique em link" data-ga-label="Link 5 - Banner oferta direita" data-ga-resetUtp="true" data-href-target="').concat(this.templateVars.targetBlank,'">\n\t\t\t\t<picture>\n\t\t\t\t\t<source srcset="').concat(this.templateVars.rightMobi,'" media="(max-width: 1023px)">\n\t\t\t\t\t<source srcset="').concat(this.templateVars.rightDesk,'" media="(min-width: 1024px)">\n\t\t\t\t\t<img src="').concat(this.templateVars.rightMobi,'" />\n\t\t\t\t</picture>\n\t\t\t</a>\n\t\t  </div>\n\t\t</div>\n\t  </div>\n\t  ')}},{key:"cssMinified",get:function(){return"<style>\n\t  .paywall-cpt{opacity:0;position:fixed;bottom:0;left:0;width:100vw;overflow:hidden;background:#fff;-webkit-box-shadow:0 0 70px 0 rgba(0,0,0,.5);box-shadow:0 0 70px 0 rgba(0,0,0,.5);font-family:Arial,Helvetica,sans-serif}.paywall-cpt,.paywall-cpt *{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-transition:all .2s ease;transition:all .2s ease}.paywall-cpt a{font-weight:700;text-decoration:none}.paywall-cpt a:hover{text-decoration:underline}.paywall-cpt .paywall-cpt-wrap__text-head,.paywall-cpt a{color:#000}.paywall-cpt-oglobo .paywall-cpt-wrap__text-head,.paywall-cpt-oglobo a{color:#325e94}.paywall-cpt-wrap{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-bottom:20px}@media screen and (min-width:1024px){.paywall-cpt-wrap{-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}}.paywall-cpt-wrap img{display:block;max-width:100%;height:auto}.paywall-cpt-wrap__top{padding-top:20px}.paywall-cpt-wrap__text-head{width:100%;text-align:center;padding:20px 0 0;font-size:20px;font-weight:700}.paywall-cpt-wrap__text-center{width:100%;text-align:center;padding:20px 0;color:#767676;font-size:16px}.paywall-cpt-wrap__text-center.is-hide{padding-bottom:0}\n\t  </style>"}}]),e}(),y=new g,b=new w;function x(){window.tinyCpt.debug.tiny&&console.log("log-method","loadPianoExperiences");var t=document.createElement("script");t.type="text/javascript",t.async=!0,Piano.util.isRevista()||Piano.util.isValor()?t.src=Piano.configuracao.jsonConfiguracaoTinyPass[Piano.variaveis.getAmbientePiano()].urlSandboxPianoRevistas:t.src=Piano.configuracao.jsonConfiguracaoTinyPass[Piano.variaveis.getAmbientePiano()].urlSandboxPiano;var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e),b.setEvents("Carregamento Piano","Script adicionado")}function k(){return(k=c()(s.a.mark(function t(){var e;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return y.setPiano(Piano),e=new m,t.prev=2,t.next=5,e.init();case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),console.error(t.t0);case 10:window.tinyCpt.debug.tiny&&console.log("log-method","pianoInit"),window.tinyCpt.Swg.global?window.SWG.push(function(t){window.tinyCpt.debug.swg&&console.log("log-subscriptions",t),(swg=t).setOnEntitlementsResponse(function(t){t.then(function(t){window.swgEntitlements=t,b.setEvents("Carregamento SWG","Entitlements recebidos"),window.tinyCpt.Piano.util.temVariaveisObrigatorias()&&("undefined"!==Piano?(window.tinyCpt.Piano.construtor.initTp(),x()):b.setEventsError("Piano nao foi carregada corretamente!",document.location.href))})})}):(b.setEventsError("Entitlements não carregado",document.location.href),window.tinyCpt.Piano.util.temVariaveisObrigatorias()&&(window.tinyCpt.Piano.construtor.initTp(),x())),window.tinyCpt.Piano.checkPaywall();case 11:case"end":return t.stop()}},t,null,[[2,7]])}))).apply(this,arguments)}b.setGlobalVars(),Piano.activePaywall=!0,Piano.typePaywall=null,Piano.variaveis={ambientesAceitos:"int,qlt,prd",statusHttpObterAutorizacaoAcesso:"400,404,406,500,502,503,504",statusHttpObterAssinaturaInadimplente:"400,404,500,502,503,504",isCallbackMetterExpired:!1,constante:{cookie:{GCOM:"GLBID",UTP:"_utp",RTIEX:"_rtiex",AMBIENTE:"ambientePiano",SAVE_SUBSCRIPTION:"saveSubscriptionCookie",CREATED_GLOBOID:"createdGloboId",GLOBOID_MESSAGE:"globoIdMessage"},metricas:{EVENTO_SEM_ACAO:"sem acao",ERRO:"Erro"},krux:{SEGMENTACOES:"kxglobo_segs",KRUXLIGADO:"krux-ligado"},util:{IP:"127.0.0.1",AMBIENTE:"ambiente-desejado",DEBUG:"debug-piano"}},isConteudoExclusivo:function(){return!!window.conteudoExclusivo},getAmbientePiano:function(){return-1<Piano.variaveis.ambientesAceitos.indexOf(Piano.util.getValorParametroNaUrl(Piano.variaveis.constante.util.AMBIENTE))?(d.setCookie(Piano.variaveis.constante.cookie.AMBIENTE,Piano.util.getValorParametroNaUrl(Piano.variaveis.constante.util.AMBIENTE),1),Piano.util.getValorParametroNaUrl(Piano.variaveis.constante.util.AMBIENTE)):("false"==Piano.util.getValorParametroNaUrl(Piano.variaveis.constante.util.AMBIENTE)&&d.setCookie(Piano.variaveis.constante.cookie.AMBIENTE,"",-1),d.getCookie(Piano.variaveis.constante.cookie.AMBIENTE)?d.getCookie(Piano.variaveis.constante.cookie.AMBIENTE):-1<Piano.variaveis.ambientesAceitos.indexOf(window.ambienteUtilizadoPiano)?window.ambienteUtilizadoPiano:"prd")},getTipoConteudoPiano:function(){return window.tipoConteudoPiano},executouPageview:function(){return!!window.executouPageview},getNomeProduto:function(){if(window.nomeProdutoPiano)return window.nomeProdutoPiano;b.setEventsError("Nome do produto não definido.",window.location.href)},getServicoId:function(){var t="0000";return"oglobo"===Piano.variaveis.getNomeProduto()||"blogs"===Piano.variaveis.getNomeProduto()||"kogut"===Piano.variaveis.getNomeProduto()||"acervo"===Piano.variaveis.getNomeProduto()||"jornaldigital"===Piano.variaveis.getNomeProduto()?"3981":Piano.util.isRevista()&&"monet"===Piano.variaveis.getNomeProduto()?"6618":Piano.util.isRevista()?"6697":"valor"===Piano.variaveis.getNomeProduto()?"6668":("0000"===t&&b.setEventsError("ServiceID não definido.",document.location.href+" nomeProduto: "+Piano.variaveis.getNomeProduto()),t)},getCodigoProduto:function(){var t=Piano.variaveis.getNomeProduto();switch(t){case"oglobo":case"blogs":case"kogut":return"OG03";case"acervo":return"OG04";case"jornaldigital":return"OG01";case"auto-esporte":case"epoca":case"vogue":case"glamour":case"casa-vogue":case"marie-claire":case"globo-rural":case"gq":case"monet":case"crescer":case"galileu":return t;case"casa-e-jardim":return"casa-jardim";case"quem-acontece":return"quem";case"valor":return"valordigital";default:return b.setEventsError("Ao obter código do produto",t+" - "+document.location.href),Piano.autenticacao.defineUsuarioPiano(!0,"erro",!0," "),"error"}}},Piano.janelaAnonima={retry:function(t,e){var a=0,o=!1,i=window.setInterval(function(){t()&&(window.clearInterval(i),e(o)),50<a++&&(window.clearInterval(i),e(o=!0))},10)},isIE10OrLater:function(t){var e=t.toLowerCase(),a=/(?:msie|rv:)\s?([\d\.]+)/.exec(e);return(0!==e.indexOf("msie")||0!==e.indexOf("trident"))&&!!(a&&10<=parseInt(a[1],10))},detectPrivateMode:function(e){var a;if(window.webkitRequestFileSystem)window.webkitRequestFileSystem(window.TEMPORARY,1,function(){a=!1},function(t){a=!0});else if(window.indexedDB&&/Firefox/.test(window.navigator.userAgent)){var o;try{o=window.indexedDB.open("test")}catch(t){a=!0}void 0===a&&Piano.janelaAnonima.retry(function(){return"done"===o.readyState},function(t){t||(a=!o.result)})}else if(Piano.janelaAnonima.isIE10OrLater(window.navigator.userAgent)){a=!1;try{window.indexedDB||(a=!0)}catch(t){a=!0}}else if(window.localStorage&&/Safari/.test(window.navigator.userAgent)){try{window.localStorage.setItem("test",1)}catch(t){a=!0}void 0===a&&(a=!1,window.localStorage.removeItem("test"))}Piano.janelaAnonima.retry(function(){return void 0!==a},function(t){e(a)})}},Piano.krux={tem:function(){return!!window.localStorage.getItem(Piano.variaveis.constante.krux.SEGMENTACOES)},ligado:function(){var t=Piano.variaveis.constante.krux.KRUXLIGADO,e=Piano.util.getValorParametroNaUrl(t);return"false"==e&&"prd"!=window.ambienteUtilizadoPiano?(d.setCookie(t,e,1),!1):"true"==e||"prd"==window.ambienteUtilizadoPiano?(d.setCookie(t,"",-1),!0):"false"!=d.getCookie(Piano.variaveis.constante.krux.KRUXLIGADO)},obtemSegmentacao:function(){if(Piano.krux.tem()&&Piano.krux.ligado())for(var t=window.localStorage.getItem(Piano.variaveis.constante.krux.SEGMENTACOES).split(","),e=0;e<t.length;e++)tp.push(["setCustomVariable",t[e],t[e]])}},Piano.metricas={enviaEventosGA:function(t,e){void 0!==window.nomeProdutoPiano&&"valor"===window.nomeProdutoPiano?_gaq.push(["_trackEvent","Piano",t,e,,!0]):dataLayer.push({event:"EventoGAPiano",eventoGACategoria:"Piano",eventoGAAcao:t,eventoGARotulo:e})},montaRotuloGA:function(){return window.regrasTiny&&window.regrasTiny.nomeExperiencia?window.subsegmentacaoPiano?regrasTiny.nomeExperiencia+" - "+subsegmentacaoPiano:regrasTiny.nomeExperiencia:window.nomeExperiencia?window.subsegmentacaoPiano?window.nomeExperiencia+" - "+subsegmentacaoPiano:window.nomeExperiencia:" "},setLimiteContagem:function(t){_GALimite="-",_GAContagem="-",t&&(_GAContagem=""+t.views,1==_GAContagem.length&&(_GAContagem="0"+_GAContagem),_GALimite=t.nomeExperiencia+" : "+t.maxViews)},identificarPassagemRegister:function(t){var e=Piano.variaveis.constante.metricas.EVENTO_SEM_ACAO;return d.getCookie(Piano.variaveis.constante.cookie.RTIEX)&&(e=-1!=t.fluxo.indexOf("hardwall")?"register-hardwall-passou":"register-contagem-passou",d.setCookie(Piano.variaveis.constante.cookie.RTIEX,"",-1)),e},executaAposPageview:function(t){Piano.variaveis.executouPageview()||(regrasTiny.fluxo=window.tpContext?tpContext.toLowerCase():"-",regrasTiny.nomeExperiencia=window.nomeExperiencia?window.nomeExperiencia:"",Piano.metricas.setLimiteContagem(regrasTiny),0==t&&b.setEvents(Piano.metricas.identificarPassagemRegister(regrasTiny),Piano.metricas.montaRotuloGA()),executouPageview=!0)},setaVariaveis:function(t,e,a){PaywallAnalytics.idLoginAssinante=t,PaywallAnalytics.tipoLoginAssinante=e,PaywallAnalytics.assinaturaLogada=a}},Piano.banner={mostrarFooter:function(t){Piano.util.adicionarCss("<link rel='stylesheet' type='text/css' href='https://static"+Piano.util.montaUrlStg()+".infoglobo.com.br/paywall/footer-piano/"+t+"/styles/styles.css'>"),Piano.xmlHttpRequest.geraScriptNaPagina("https://static"+Piano.util.montaUrlStg()+".infoglobo.com.br/paywall/footer-piano/"+t+"/scripts/novo-banner-footer.js")},mostrarBotaoAssinaturaHeaderFooter:function(t){Piano.util.adicionarCss("<link rel='stylesheet' type='text/css' href='https://static"+Piano.util.montaUrlStg()+".infoglobo.com.br/paywall/banner-header-footer-piano/"+t+"/styles/styles.css'>"),Piano.xmlHttpRequest.geraScriptNaPagina("https://static"+Piano.util.montaUrlStg()+".infoglobo.com.br/paywall/banner-header-footer-piano/"+t+"/scripts/banner-header-footer-piano.js")},mostrarAvatarHeader:function(t){Piano.util.adicionarCss("<link rel='stylesheet' type='text/css' href='https://static"+Piano.util.montaUrlStg()+".infoglobo.com.br/paywall/avatar-header-piano/"+t+"/styles/styles.css'>"),Piano.xmlHttpRequest.geraScriptNaPagina("https://static"+Piano.util.montaUrlStg()+".infoglobo.com.br/paywall/avatar-header-piano/"+t+"/scripts/avatar-header-piano.js")},bottomFixed:function(t){var e=0<arguments.length&&void 0!==t?t:{};window.glbBannerBottom=e,Piano.util.adicionarCss("<link rel='stylesheet' type='text/css' href='https://static"+Piano.util.montaUrlStg()+".infoglobo.com.br/paywall/banner-bottom-fixed/styles/banner-bottom-fixed.css'>"),Piano.xmlHttpRequest.geraScriptNaPagina("https://static"+Piano.util.montaUrlStg()+".infoglobo.com.br/paywall/banner-bottom-fixed/scripts/banner-bottom-fixed.js")},mostrarSWG:function(){var t="<link rel='stylesheet' type='text/css' href='https://static".concat(Piano.util.montaUrlStg(),".infoglobo.com.br/paywall/swg/v1/styles/style.css'>"),e="https://static".concat(Piano.util.montaUrlStg(),".infoglobo.com.br/paywall/swg/v1/script/anuncio-swg.js");Piano.util.adicionarCss(t),Piano.xmlHttpRequest.geraScriptNaPagina(e)},mostrarHighlightSale:function(t){Piano.util.adicionarCss("<link rel='stylesheet' type='text/css' href='https://static"+Piano.util.montaUrlStg()+".infoglobo.com.br/paywall/highlight-sale/"+t+"/styles/styles.css'>"),Piano.xmlHttpRequest.geraScriptNaPagina("https://static"+Piano.util.montaUrlStg()+".infoglobo.com.br/paywall/highlight-sale/"+t+"/scripts/highlight-sale.js")},mostrarSubscribeButtonValor:function(t){Piano.xmlHttpRequest.geraScriptNaPagina("https://static"+Piano.util.montaUrlStg()+".infoglobo.com.br/paywall/valor-subscribe-button/"+t+"/scripts/subscribe-button.js")}},Piano.register={mostrarBarreira:function(t){Piano.util.adicionarCss("<link rel='stylesheet' type='text/css' href='https://static"+Piano.util.montaUrlStg()+".infoglobo.com.br/paywall/register-piano/"+t+"/styles/styles.css'>"),Piano.xmlHttpRequest.geraScriptNaPagina("https://static"+Piano.util.montaUrlStg()+".infoglobo.com.br/paywall/register-piano/"+t+"/scripts/nova-tela-register.js"),d.setCookie(Piano.variaveis.constante.cookie.UTP,"",-1),b.setEvents("Exibicao Register",Piano.metricas.montaRotuloGA()),d.setCookie(Piano.variaveis.constante.cookie.RTIEX,!0,1)}},Piano.helper={mostrarBarreira:function(){Piano.xmlHttpRequest.geraScriptNaPagina("https://s3.glbimg.com/v1/AUTH_65d1930a0bda476ba8d3c25c5371ec3f/piano/helper/register.js"),d.setCookie(Piano.variaveis.constante.cookie.UTP,"",-1),b.setEvents("Exibicao Register",Piano.metricas.montaRotuloGA()),d.setCookie(Piano.variaveis.constante.cookie.RTIEX,!0,1)}},Piano.paywall={redirecionarBarreira:function(t){b.setEvents("Barreira",Piano.metricas.montaRotuloGA()),d.setCookie(Piano.variaveis.constante.cookie.UTP,"",-1),setTimeout(function(){window.location.href=t},1e3)},show:function(t){var e=0<arguments.length&&void 0!==t?t:null;if(window.tinyCpt.debug.paywall&&console.log("log-method","Piano.paywall.show"),Piano.typePaywall=e,Piano.activePaywall)try{new P,window.hasPaywall=!0}catch(t){console.error("Paywall - Error on load"),Piano.triggerAdvertising()}else console.warn("Paywall - Is not avaiable"),Piano.triggerAdvertising()}},Piano.triggerAdvertising=function(){var t=new CustomEvent("clearForAds");document.dispatchEvent(t)},Piano.checkPaywall=function(){var a=0,o=setInterval(function(){var t=document.querySelector(".barreira-register-paywall, .paywall-cpt"),e=document.querySelector("#pub-retangulo-1 iframe, #pub-retangulo-2 iframe, #pub-fullbanner-1 iframe");2<a&&(Piano.triggerAdvertising(),Piano.activePaywall=!1,clearInterval(o)),(t&&Piano.activePaywall||e||8<a)&&clearInterval(o),a++},1e3)},Piano.registerPaywall={mostrarBarreira:function(t,e){var a=0<arguments.length&&void 0!==t?t:null,o=1<arguments.length&&void 0!==e?e:null;Piano.typePaywall=o,Piano.activePaywall&&a&&Piano.typePaywall?(Piano.util.adicionarCss("<link rel='stylesheet' type='text/css' href='https://static"+Piano.util.montaUrlStg()+".infoglobo.com.br/paywall/register-paywall-piano/"+a+"/styles/styles.css'>"),Piano.xmlHttpRequest.geraScriptNaPagina("https://static"+Piano.util.montaUrlStg()+".infoglobo.com.br/paywall/register-paywall-piano/"+a+"/scripts/register-paywall-piano.js",function(t){200!==t.status?Piano.triggerAdvertising():window.hasPaywall=!0}),"register"===Piano.typePaywall||"exclusivo"===Piano.typePaywall?(b.setEvents("Exibicao Register",Piano.metricas.montaRotuloGA()),d.setCookie(Piano.variaveis.constante.cookie.RTIEX,!0,1)):b.setEvents("Barreira",Piano.metricas.montaRotuloGA())):Piano.triggerAdvertising()}},Piano.comunicado={mostrarInformacao:function(t){Piano.util.adicionarCss("<link rel='stylesheet' type='text/css' href='https://static"+Piano.util.montaUrlStg()+".infoglobo.com.br/paywall/comunicacao-piano/"+t+"/styles/styles.css'>"),Piano.xmlHttpRequest.geraScriptNaPagina("https://static"+Piano.util.montaUrlStg()+".infoglobo.com.br/paywall/comunicacao-piano/"+t+"/scripts/comunicacao-piano.js")}},Piano.adblock={mostrarAdBlock:function(t){var e=0<arguments.length&&void 0!==t?t:{};e.assetsPath="https://static".concat(Piano.util.montaUrlStg(),".infoglobo.com.br/paywall/adblock-piano/v4/"),window.glbAdblock=e,Piano.util.adicionarCss("<link rel='stylesheet' type='text/css' href='https://static"+Piano.util.montaUrlStg()+".infoglobo.com.br/paywall/adblock-piano/v4/styles/styles.css'>"),Piano.xmlHttpRequest.geraScriptNaPagina("https://static"+Piano.util.montaUrlStg()+".infoglobo.com.br/paywall/adblock-piano/v4/scripts/adblock-piano.js")}},Piano.bloqueios={liberarEsc:function(){Piano.xmlHttpRequest.geraScriptNaPagina("https://static"+Piano.util.montaUrlStg()+".infoglobo.com.br/paywall/bloqueio/liberaTeclado.js")},bloqueiaViewMode:function(){Piano.xmlHttpRequest.geraScriptNaPagina("https://static"+Piano.util.montaUrlStg()+".infoglobo.com.br/paywall/bloqueio/bloqueiaViewmode.js")}},Piano.parceiro={mostraFooterParceiro:function(t){Piano.util.adicionarCss("<link rel='stylesheet' type='text/css' href='https://static"+Piano.util.montaUrlStg()+".infoglobo.com.br/paywall/footer-parceiros-piano/"+t+"/styles/styles.css'>"),Piano.xmlHttpRequest.geraScriptNaPagina("https://static"+Piano.util.montaUrlStg()+".infoglobo.com.br/paywall/footer-parceiros-piano/"+t+"/scripts/footer-parceiros-piano.js")}},Piano.inadimplente={getLinkAssinatura:function(t){for(var e=0;e<t.length;e++)if("assinatura"==t[e].rel)return t[e].href;return""}},Piano.xmlHttpRequest={geraScriptNaPagina:function(a,o){var i=new XMLHttpRequest;i.open("GET",a),i.send(),i.onreadystatechange=function(){if(4===this.readyState)if(200===this.status){var t=i.responseText,e=document.createElement("script");e.innerHTML=t,document.body.appendChild(e)}else b.setEventsError("Erro na função gerar script na página.","url: "+a+" StatusErro: "+this.status+" Stack: "+this.statusText);o&&o(i)}},fazRequisicaoBarramentoApiObterAssinaturaInadimplente:function(t){var e=new XMLHttpRequest;if(e.open("GET",t,!1),e.setRequestHeader("Accept","application/json"),e.setRequestHeader("Content-Type","application/json"),e.send(),4==e.readyState)if(200==e.status){var a=e.responseText,o=JSON.parse(a).situacaoPagamento.toLowerCase();tp.push(["setCustomVariable","situacaoPagamento",o])}else 0!=e.status&&-1<Piano.variaveis.statusHttpObterAssinaturaInadimplente.indexOf(e.status)?b.setEventsError("Api de inadimplente",e.status+" - "+t):b.setEventsError("Api de inadimplente","Status Desconhecido - "+t)},fazRequisicaoBarramentoApiAutorizacaoAcesso:function(e){var t=Piano.variaveis.getCodigoProduto();if("error"!=t){var a=JSON.stringify({"token-autenticacao":e,ipUsuario:Piano.variaveis.constante.util.IP,codigoProduto:t}),o=new XMLHttpRequest;if(o.open("POST",Piano.configuracao.jsonConfiguracaoTinyPass[Piano.variaveis.getAmbientePiano()].urlVerificaLeitor,!1),o.setRequestHeader("Accept","application/json"),o.setRequestHeader("Content-Type","application/json"),o.send(a),4===o.readyState)if(200===o.status){var i=o.responseText,n=JSON.parse(i),r=!1,s="",c="";void 0!==n.motivo&&(s=n.motivo.toLowerCase()),void 0!==n.temTermoDeUso&&(r=n.temTermoDeUso),void 0!==n.link&&(c=Piano.inadimplente.getLinkAssinatura(n.link));var l=Piano.autenticacao.isAutorizado(r,s,n.autorizado,c);Piano.autenticacao.defineUsuarioPiano(n.autorizado,s,l,r);var u={autorizado:n.autorizado,motivo:s,logado:l,temTermoDeUso:r,glbid:e,produto:Piano.variaveis.getNomeProduto(),codProduto:t,uuid:n.usuarioId};if(u=btoa(encodeURI(JSON.stringify(u))),d.setCookie(Piano.variaveis.constante.cookie.UTP,u,1),"undefined"!=typeof swg&&Piano.google.showSaveSubscription(n))try{(new SwgService).saveGloboSubscription(e)}catch(t){b.setEventsError("Erro ao chamar a função showSaveSubscription do Aldebaran.","URL: "+document.location.href+" GLBID: "+e+" Erro: "+t)}1==n.autorizado&&Piano.metricas.setaVariaveis(n.usuarioId,"Globo ID","O Globo")}else b.setEventsError("API de autorizacao de acesso",o.status+" - "+e),Piano.autenticacao.defineUsuarioPiano(!0,"erro",!0," ")}}},Piano.google={isAuthorized:function(){return swgEntitlements.getEntitlementForSource("oglobo.globo.com")?(Piano.metricas.setaVariaveis(swgEntitlements.getEntitlementForSource("oglobo.globo.com").subscriptionToken,"Conta Google","O Globo"),!0):!!d.getCookie(Piano.variaveis.constante.cookie.CREATED_GLOBOID)&&(Piano.metricas.setaVariaveis(d.getCookie(Piano.variaveis.constante.cookie.CREATED_GLOBOID),"Conta Google","Google"),!0)},isSpecificGoogleUser:function(){if(!Piano.google.isAuthorized())try{(new OGloboBusiness).verifyIfUserHasAccessOrDeferred(swgEntitlements)}catch(t){b.setEventsError("Erro ao executar o Aldebaran","Error: "+t+" - Entitlements: "+swgEntitlements.entitlements[0].subscriptionToken)}},showSaveSubscription:function(t){return!swgEntitlements.enablesThis()&&"AUTORIZADO"===t.motivo&&!d.getCookie(Piano.variaveis.constante.SAVE_SUBSCRIPTION)}},Piano.autenticacao={isLogadoCadun:function(t,e){return t||(e&&d.setCookie(Piano.variaveis.constante.cookie.UTP,"",-1),d.getCookie(Piano.variaveis.constante.cookie.RTIEX)&&d.setCookie(Piano.variaveis.constante.cookie.RTIEX,"",-1)),""!=t},verificaUsuarioLogadoNoBarramento:function(t,e){if(Piano.autenticacao.isLogadoCadun(t,e)){if(e){var a=JSON.parse(decodeURI(atob(e)));if(t==a.glbid&&(void 0===a.produto||a.produto==Piano.variaveis.getNomeProduto()))return Piano.autenticacao.defineUsuarioPiano(a.autorizado,a.motivo,a.logado,a.temTermoDeUso),void(a.autorizado&&Piano.metricas.setaVariaveis(a.uuid,"Globo ID","O Globo"));d.setCookie(Piano.variaveis.constante.cookie.UTP,"",-1)}Piano.xmlHttpRequest.fazRequisicaoBarramentoApiAutorizacaoAcesso(t)}},isAutorizado:function(t,e,a,o){return a||"indisponivel"==e||0!=t?(a&&o&&Piano.xmlHttpRequest.fazRequisicaoBarramentoApiObterAssinaturaInadimplente(o),!0):(d.getCookie(Piano.variaveis.constante.cookie.RTIEX)&&d.setCookie(Piano.variaveis.constante.cookie.RTIEX,"",-1),!1)},defineUsuarioPiano:function(t,e,a,o){tp.push(["setCustomVariable","autorizado",t]),tp.push(["setCustomVariable","motivo",e]),tp.push(["setCustomVariable","logado",a])," "!=o&&tp.push(["setCustomVariable","temTermo",o])}},Piano.util={isSection:function(){return"section"==Piano.variaveis.getTipoConteudoPiano()},temVariaveisObrigatorias:function(){return void 0===Piano.variaveis.getTipoConteudoPiano()?(b.setEventsError("Variavel tipoConteudoPiano nao esta definida",document.location.href),!1):void 0!==Piano.variaveis.getNomeProduto()||(b.setEventsError("Variavel nomeProdutoPiano nao esta definida",document.location.href),!1)},extraiParametrosCampanhaDaUrl:function(){for(var t=Piano.util.getWindowLocationSearch(),e=["utm_medium","utm_source"],a=[],o=0;o<e.length;o++){var i=e[o];if(-1!=t.indexOf(i+"=")){var n=new RegExp("[?(&)]"+i+"=([^&#]*)"),r=t.match(n)[1];r&&a.push(r)}}if(0<a.length&&tp.push(["setCustomVariable","utm",a.join(";")]),-1!=t.indexOf("utm_campaign=")){n=new RegExp("utm_campaign=(\\w+)");var s=t.match(n)[1];s&&tp.push(["setCustomVariable","campanha",s])}},isOrigemBuscador:function(){var t=navigator.userAgent,e=new RegExp("(ia_archiver)|(Googlebot)|(Mediapartners-Google)|(AdsBot-Google)|(msnbot)|(Yahoo! Slurp)|(ZyBorg)|(Ask Jeeves/Teoma)|(bingbot)|(cXensebot)").test(t);return tp.push(["setCustomVariable","buscador",e]),e},montaUrlStg:function(){return"prd"!=Piano.variaveis.getAmbientePiano()?"-stg":""},temParametroNaUrl:function(t){return-1!=Piano.util.getWindowLocationSearch().indexOf(t)},getValorParametroNaUrl:function(t){if(Piano.util.temParametroNaUrl(t)){var e=Piano.util.getWindowLocationSearch(),a=new RegExp("[?(&)]"+t+"=([^&#]*)");return e.match(a)[1]}return"sem parametro"},isDebug:function(){var t=Piano.variaveis.constante.util.DEBUG,e=Piano.util.getValorParametroNaUrl(t);return"true"==e?(d.setCookie(t,e,1),!0):"false"==e?(d.setCookie(t,"",-1),!1):!!d.getCookie(Piano.variaveis.constante.util.DEBUG)},isDominioOGlobo:function(){var t=new RegExp("://(.*?)/"),e=Piano.util.getWindowLocationHref();return-1<e.match(t)[1].indexOf("oglobo")||-1<e.match(t)[1].indexOf("globoi")&&-1==e.match(t)[1].indexOf("edg")?e.match(t)[1]:""},callbackMeter:function(t){regrasTiny=t,Piano.metricas.executaAposPageview(!1)},callbackMeterExpired:function(t){regrasTiny=t,Piano.variaveis.isCallbackMetterExpired=!0,Piano.metricas.executaAposPageview(!0)},getWindowLocationSearch:function(){return window.location.search},getWindowLocationHref:function(){return window.location.href},adicionarCss:function(t){var e=document.createElement("div");e.innerHTML=t,document.body.insertBefore(e,document.body.lastChild)},isRevista:function(){return-1<["epoca","auto-esporte","vogue","glamour","casa-vogue","marie-claire","casa-e-jardim","quem-acontece","globo-rural","gq","monet","crescer","galileu"].indexOf(Piano.variaveis.getNomeProduto())},recarregaPiano:function(t,e,a){window.tipoConteudoPiano=t,window.conteudoExclusivo=e,window.nomeProdutoPiano=a,void 0!==window.regrasTiny&&(window.regrasTiny.nomeExperiencia=""),Piano.construtor.initTp(),tp.experience.execute()},isValor:function(){return"valor"===Piano.variaveis.getNomeProduto()}},Piano.configuracao={jsonConfiguracaoTinyPass:{int:{idSandboxTinypass:"dXu7dvFKRi",idSandboxTinypassRevistas:"VnaP3rYVKc",setSandBox:"true",urlSandboxPiano:"https://sandbox.tinypass.com/xbuilder/experience/load?aid=dXu7dvFKRi",urlSandboxPianoRevistas:"https://experience.tinypass.com/xbuilder/experience/load?aid=VnaP3rYVKc",urlVerificaLeitor:"https://apiqlt-ig.infoglobo.com.br/relacionamento/v3/funcionalidade/"+Piano.variaveis.getServicoId()+"/autorizacao-acesso",urlDominioPaywall:"https://assinatura.globostg.globoi.com/",urlDominioSiteOGlobo:Piano.util.isDominioOGlobo()+"/"},qlt:{idSandboxTinypass:"GTCopIDc5z",idSandboxTinypassRevistas:"VnaP3rYVKc",setSandBox:"false",urlSandboxPiano:"https://experience.tinypass.com/xbuilder/experience/load?aid=GTCopIDc5z",urlSandboxPianoRevistas:"https://experience.tinypass.com/xbuilder/experience/load?aid=VnaP3rYVKc",urlVerificaLeitor:"https://apiqlt-ig.infoglobo.com.br/relacionamento/v3/funcionalidade/"+Piano.variaveis.getServicoId()+"/autorizacao-acesso",urlDominioPaywall:"https://assinatura.globostg.globoi.com/",urlDominioSiteOGlobo:Piano.util.isDominioOGlobo()+"/"},prd:{idSandboxTinypass:"GTCopIDc5z",idSandboxTinypassRevistas:"VnaP3rYVKc",setSandBox:"false",urlSandboxPiano:"https://experience.tinypass.com/xbuilder/experience/load?aid=GTCopIDc5z",urlSandboxPianoRevistas:"https://experience.tinypass.com/xbuilder/experience/load?aid=VnaP3rYVKc",urlVerificaLeitor:"https://api.infoglobo.com.br/relacionamento/v3/funcionalidade/"+Piano.variaveis.getServicoId()+"/autorizacao-acesso",urlDominioPaywall:"https://assinatura.oglobo.globo.com/",urlDominioSiteOGlobo:Piano.util.isDominioOGlobo()+"/"}}},Piano.construtor={initTp:function(){b.setEvents("Carregamento Piano","Inicio InitTp"),tp=window.tp||[],tp.push(["setTags",[Piano.variaveis.getTipoConteudoPiano()]]),Piano.util.isRevista()||Piano.util.isValor()?tp.push(["setAid",Piano.configuracao.jsonConfiguracaoTinyPass[Piano.variaveis.getAmbientePiano()].idSandboxTinypassRevistas]):tp.push(["setAid",Piano.configuracao.jsonConfiguracaoTinyPass[Piano.variaveis.getAmbientePiano()].idSandboxTinypass]),tp.push(["setSandbox",Piano.configuracao.jsonConfiguracaoTinyPass[Piano.variaveis.getAmbientePiano()].setSandBox]),tp.push(["setDebug",Piano.util.isDebug()]);var t=Piano.util.getWindowLocationHref().split("?")[0];tp.push(["setPageURL",t]),tp.push(["setZone",Piano.variaveis.getNomeProduto()]),tp.push(["setCustomVariable","nomeProduto",Piano.variaveis.getNomeProduto()]),Piano.janelaAnonima.detectPrivateMode(function(t){tp.push(["setCustomVariable","anonimo",t])}),Piano.variaveis.isConteudoExclusivo()&&tp.push(["setCustomVariable","conteudoExclusivo",!0]),"undefined"!=typeof swg&&swgEntitlements.enablesThis()?(Piano.google.isSpecificGoogleUser(swgEntitlements),Piano.autenticacao.defineUsuarioPiano(!0,"AUTORIZADO",!0,"")):Piano.autenticacao.verificaUsuarioLogadoNoBarramento(d.getCookie(Piano.variaveis.constante.cookie.GCOM),d.getCookie(Piano.variaveis.constante.cookie.UTP)),Piano.krux.obtemSegmentacao(),tp.push(["setCustomVariable","bannerContadorLigado",!0]),Piano.util.isOrigemBuscador()||Piano.util.extraiParametrosCampanhaDaUrl(),tp.push(["addHandler","meterActive",Piano.util.callbackMeter]),tp.push(["addHandler","meterExpired",Piano.util.callbackMeterExpired]),b.setEvents("Carregamento Piano","Fim InitTp")}},function(){k.apply(this,arguments)}()}]);